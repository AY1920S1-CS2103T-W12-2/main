<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.6.1"><title>THRIFT - Developer Guide</title><link rel="stylesheet" href="stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="stylesheets/coderay-asciidoctor.css"></head><body class="article"><div id="site-header"><nav class="navbar navbar-light bg-light"><div class="container"><a class="navbar-brand" href="index.html">THRIFT</a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="UserGuide.html">User Guide</a></li><li class="nav-item"><a class="nav-link active" href="DeveloperGuide.html">Developer Guide</a></li><li class="nav-item"><a class="nav-link" href="AboutUs.html">About Us</a></li><li class="nav-item"><a class="nav-link" href="ContactUs.html">Contact Us</a></li><li class="navitem"><a class="nav-link" href="https://github.com/AY1920S1-CS2103T-W12-2/main"><span class="fa fa-github fa-lg" aria-hidden="true"></span>&nbsp;View on GitHub</a></li></ul></div></nav></div><div id="header"><h1>THRIFT - Developer Guide</h1></div><div id="content"><div id="preamble">
<div class="sectionbody">
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="images/logo/logo.png" alt="logo">
</div>
</div>
<div class="paragraph">
<p>By: <code>Team THRIFT</code>      Since: <code>Sept 2019</code>      Licence: <code>MIT</code></p>
</div>
</div>
<div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#introduction">1. Introduction</a>
<ul class="sectlevel2">
<li><a href="#purpose">1.1. Purpose</a></li>
<li><a href="#scope">1.2. Scope</a></li>
<li><a href="#about-the-document">1.3. About the document</a></li>
</ul>
</li>
<li><a href="#setting-up">2. Setting up</a>
<ul class="sectlevel2">
<li><a href="#prerequisites">2.1. Prerequisites</a></li>
<li><a href="#setting-up-the-project-in-your-computer">2.2. Setting up the project in your computer</a></li>
<li><a href="#verifying-the-setup">2.3. Verifying the setup</a></li>
<li><a href="#configurations-to-do-before-writing-code">2.4. Configurations to do before writing code</a></li>
</ul>
</li>
<li><a href="#design">3. Design</a>
<ul class="sectlevel2">
<li><a href="#Design-Architecture">3.1. Architecture</a></li>
<li><a href="#Design-Ui">3.2. UI component</a></li>
<li><a href="#Design-Logic">3.3. Logic component</a></li>
<li><a href="#Design-Model">3.4. Model component</a></li>
<li><a href="#Design-Storage">3.5. Storage component</a></li>
<li><a href="#Design-Commons">3.6. Common classes</a></li>
</ul>
</li>
<li><a href="#implementation">4. Implementation</a>
<ul class="sectlevel2">
<li><a href="#adding-transactions">4.1. Adding transactions</a></li>
<li><a href="#setting-budgets">4.2. Setting budgets</a></li>
<li><a href="#tag-untag-feature">4.3. Tag/Untag feature</a></li>
<li><a href="#updating-transactions">4.4. Updating transactions</a></li>
<li><a href="#cloning-transactions">4.5. Cloning transactions</a></li>
<li><a href="#undo-redoing-undoable-commands">4.6. Undo/Redoing undoable commands</a></li>
<li><a href="#filtering-transactions">4.7. Filtering transactions</a></li>
<li><a href="#proposed-data-encryption">4.8. [Proposed] Data encryption</a></li>
<li><a href="#proposed-artificial-intelligence-ai">4.9. [Proposed] Artificial Intelligence (AI)</a></li>
<li><a href="#proposed-external-report-generation">4.10. [Proposed] External report generation</a></li>
<li><a href="#logging">4.11. Logging</a></li>
<li><a href="#Implementation-Configuration">4.12. Configuration</a></li>
</ul>
</li>
<li><a href="#documentation">5. Documentation</a>
<ul class="sectlevel2">
<li><a href="#editing-documentation">5.1. Editing documentation</a></li>
<li><a href="#editing-diagrams">5.2. Editing diagrams</a></li>
<li><a href="#publishing-documentation">5.3. Publishing documentation</a></li>
<li><a href="#converting-documentation-to-pdf-format">5.4. Converting documentation to PDF format</a></li>
<li><a href="#Docs-SiteWideDocSettings">5.5. Site-wide documentation settings</a></li>
<li><a href="#Docs-PerFileDocSettings">5.6. Per-file documentation settings</a></li>
<li><a href="#site-template">5.7. Site template</a></li>
</ul>
</li>
<li><a href="#Testing">6. Testing</a>
<ul class="sectlevel2">
<li><a href="#running-tests">6.1. Running tests</a></li>
<li><a href="#types-of-tests">6.2. Types of tests</a></li>
<li><a href="#troubleshooting-testing">6.3. Troubleshooting testing</a></li>
</ul>
</li>
<li><a href="#dev-ops">7. Dev ops</a>
<ul class="sectlevel2">
<li><a href="#build-automation">7.1. Build automation</a></li>
<li><a href="#continuous-integration">7.2. Continuous Integration</a></li>
<li><a href="#coverage-reporting">7.3. Coverage reporting</a></li>
<li><a href="#documentation-previews">7.4. Documentation previews</a></li>
<li><a href="#making-a-release">7.5. Making a release</a></li>
<li><a href="#managing-dependencies">7.6. Managing dependencies</a></li>
</ul>
</li>
<li><a href="#product-scope">Appendix A: Product scope</a></li>
<li><a href="#user-stories">Appendix B: User stories</a></li>
<li><a href="#use-cases">Appendix C: Use cases</a></li>
<li><a href="#non-functional-requirements">Appendix D: Non functional requirements</a></li>
<li><a href="#glossary">Appendix E: Glossary</a></li>
<li><a href="#instructions-for-manual-testing">Appendix F: Instructions for manual testing</a>
<ul class="sectlevel2">
<li><a href="#launching-and-shutting-down">F.1. Launching and shutting down</a></li>
<li><a href="#setting-a-monthly-budget">F.2. Setting a monthly budget</a></li>
<li><a href="#adding-a-transaction">F.3. Adding a transaction</a></li>
<li><a href="#deleting-a-transaction">F.4. Deleting a transaction</a></li>
<li><a href="#updating-a-transaction-s-details">F.5. Updating a transaction&#8217;s details</a></li>
<li><a href="#cloning-a-transaction">F.6. Cloning a transaction</a></li>
<li><a href="#listing-the-transactions">F.7. Listing the transactions</a></li>
<li><a href="#tagging-a-transaction">F.8. Tagging a transaction</a></li>
<li><a href="#untagging-a-transaction">F.9. Untagging a transaction</a></li>
<li><a href="#converting-a-value">F.10. Converting a value</a></li>
<li><a href="#finding-a-transaction">F.11. Finding a transaction</a></li>
<li><a href="#undoing-the-previous-command">F.12. Undoing the previous command</a></li>
<li><a href="#redoing-the-undone-command">F.13. Redoing the undone command</a></li>
<li><a href="#showing-help-window">F.14. Showing help window</a></li>
<li><a href="#saving-data">F.15. Saving data</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="sect1">
<h2 id="introduction"><a class="link" href="#introduction">1. Introduction</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="#thrift">THRIFT</a> is an application for money-conscious NUS students who wish to track their spending, in order to make better informed decisions when it comes to saving money.
It maintains records of your daily incoming and outgoing transactions and constantly keeps track of the user&#8217;s spending and income.
THRIFT is optimised for those who prefer to work with a Command Line Interface (CLI) while still enjoying the benefits of having a Graphical User Interface (GUI).
It is a simple, no-frills finance tracker made for our target user group.</p>
</div>
<div class="sect2">
<h3 id="purpose"><a class="link" href="#purpose">1.1. Purpose</a></h3>
<div class="paragraph">
<p>This developer guide aims to communicate to the developers working on THRIFT the design and architecture of the implementation.
It also includes non-technical details to give the developers an idea of the direction THRIFT intends to take on both current and future features.
A developer should be able to understand the design, architecture and goals of THRIFT after reading this guide.</p>
</div>
</div>
<div class="sect2">
<h3 id="scope"><a class="link" href="#scope">1.2. Scope</a></h3>
<div class="paragraph">
<p>This developer guide specifies the technical and non-technical details of THRIFT.
The technical aspects include the design and architecture while the non-technical aspects include the user stories, use cases and <a href="#nfr">NFRs</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="about-the-document"><a class="link" href="#about-the-document">1.3. About the document</a></h3>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
This symbol indicates a tip that you may find useful when enhancing THRIFT.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This symbol indicates information that you may want to take note of when enhancing THRIFT.
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
This symbol indicates information that you need to be cautious of when enhancing THRIFT.
</td>
</tr>
</table>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<strong>add_expense n/Laksa v/4</strong>
</td>
<td class="hdlist2">
<p>Bold text indicates user input.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<em>/src/java/thrift/logic/Logic.java</em>
</td>
<td class="hdlist2">
<p>Italic text indicates that it is a file/github path.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>currentMonth</code>
</td>
<td class="hdlist2">
<p>Text with grey highlight (called a mark-up) indicates that it is a method/variable/parameter name.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code><strong>THRIFT</strong></code>
</td>
<td class="hdlist2">
<p>Bold text with mark-up indicates a class/package name.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code><em>Model.java</em></code>
</td>
<td class="hdlist2">
<p>Italic text with mark-up indicates a file name.</p>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="setting-up"><a class="link" href="#setting-up">2. Setting up</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this section, we will be introducing the way to set up THRIFT.</p>
</div>
<div class="sect2">
<h3 id="prerequisites"><a class="link" href="#prerequisites">2.1. Prerequisites</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>JDK 11 or above</p>
</li>
<li>
<p>IntelliJ IDE</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
IntelliJ by default has Gradle and JavaFx plugins installed.<br>
Do not disable them. If you have disabled them, go to <strong>File</strong> &gt; <strong>Settings</strong> &gt; <strong>Plugins</strong> to re-enable them.
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="setting-up-the-project-in-your-computer"><a class="link" href="#setting-up-the-project-in-your-computer">2.2. Setting up the project in your computer</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Fork this repo, and clone the fork to your computer.</p>
</li>
<li>
<p>Open IntelliJ (if you are not in the welcome screen, click <strong>File</strong> &gt; <strong>Close Project</strong> to close the existing project dialog first).</p>
</li>
<li>
<p>Set up the correct JDK version for Gradle.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Click <strong>Configure</strong> &gt; <strong>Project Defaults</strong> &gt; <strong>Project Structure</strong>.</p>
</li>
<li>
<p>Click <strong>New&#8230;&#8203;</strong> and find the directory of the JDK.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Click <strong>Import Project</strong>.</p>
</li>
<li>
<p>Locate the <code><em>build.gradle</em></code> file and select it. Click <strong>OK</strong>.</p>
</li>
<li>
<p>Click <strong>Open as Project</strong>.</p>
</li>
<li>
<p>Click <strong>OK</strong> to accept the default settings.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="verifying-the-setup"><a class="link" href="#verifying-the-setup">2.3. Verifying the setup</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Run the <code><strong>thrift.Main</strong></code> and try a few commands.</p>
</li>
<li>
<p><a href="#Testing">Run the tests</a> to ensure they all pass.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="configurations-to-do-before-writing-code"><a class="link" href="#configurations-to-do-before-writing-code">2.4. Configurations to do before writing code</a></h3>
<div class="sect3">
<h4 id="configuring-the-coding-style"><a class="link" href="#configuring-the-coding-style">2.4.1. Configuring the coding style</a></h4>
<div class="paragraph">
<p>This project follows <a href="https://github.com/oss-generic/process/blob/master/docs/CodingStandards.adoc">oss-generic coding standards</a>. IntelliJ&#8217;s default style is mostly compliant with ours but it uses a different import order from ours. To rectify:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Go to <strong>File</strong> &gt; <strong>Settings&#8230;&#8203;</strong> (Windows/Linux), or <strong>IntelliJ IDEA</strong> &gt; <strong>Preferences&#8230;&#8203;</strong> (macOS).</p>
</li>
<li>
<p>Select <strong>Editor</strong> &gt; <strong>Code Style</strong> &gt; <strong>Java</strong>.</p>
</li>
<li>
<p>Click on the <strong>Imports</strong> tab to set the order.</p>
<div class="ulist">
<ul>
<li>
<p>For <code>Class count to use import with '*'</code> and <code>Names count to use static import with '*'</code>: Set to <strong>999</strong> to prevent IntelliJ from contracting the import statements</p>
</li>
<li>
<p>For <code>Import Layout</code>: The order is <strong>import static all other imports</strong>, <strong>import java.</strong>*, <strong>import javax.</strong>*, <strong>import org.</strong>*, <strong>import com.</strong>*, <strong>import all other imports</strong>. Add a <strong>&lt;blank line&gt;</strong> between each <strong>import</strong></p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Optionally, you can follow the <a href="UsingCheckstyle.html">UsingCheckstyle.adoc</a> document to configure Intellij to check style-compliance as you write code.</p>
</div>
</div>
<div class="sect3">
<h4 id="updating-documentation-to-match-your-fork"><a class="link" href="#updating-documentation-to-match-your-fork">2.4.2. Updating documentation to match your fork</a></h4>
<div class="paragraph">
<p>After forking the repo, the documentation will still have the THRIFT branding and refer to the <em>AY1920S1-CS2103T-W12-2/main</em> repo.</p>
</div>
<div class="paragraph">
<p>If you plan to develop this fork as a separate product (i.e. instead of contributing to <em>AY1920S1-CS2103T-W12-2/main</em>), you should do the following:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Configure the <a href="#Docs-SiteWideDocSettings">site-wide documentation settings</a> in <a href="https://github.com/AY1920S1-CS2103T-W12-2/main/tree/master/build.gradle"><code><em>build.gradle</em></code></a>, such as the <code>site-name</code>, to suit your own project.</p>
</li>
<li>
<p>Replace the URL in the attribute <code>repoURL</code> in <a href="https://github.com/AY1920S1-CS2103T-W12-2/main/tree/master/docs/DeveloperGuide.adoc"><code><em>DeveloperGuide.adoc</em></code></a> and <a href="https://github.com/AY1920S1-CS2103T-W12-2/main/tree/master/docs/UserGuide.adoc"><code><em>UserGuide.adoc</em></code></a> with the URL of your fork.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="setting-up-ci"><a class="link" href="#setting-up-ci">2.4.3. Setting up CI</a></h4>
<div class="paragraph">
<p>Set up Travis to perform Continuous Integration (CI) for your fork. See <a href="UsingTravis.html">UsingTravis.adoc</a> to learn how to set it up.</p>
</div>
<div class="paragraph">
<p>After setting up Travis, you can optionally set up coverage reporting for your team fork (see <a href="UsingCoveralls.html">UsingCoveralls.adoc</a>).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Coverage reporting could be useful for a team repository that hosts the final version but it is not that useful for your personal fork.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Optionally, you can set up AppVeyor as a second CI (see <a href="UsingAppVeyor.html">UsingAppVeyor.adoc</a>).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Having both Travis and AppVeyor ensures your App works on both Unix-based platforms and Windows-based platforms (Travis is Unix-based and AppVeyor is Windows-based)
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="getting-started-with-coding"><a class="link" href="#getting-started-with-coding">2.4.4. Getting started with coding</a></h4>
<div class="paragraph">
<p>When you are ready to start coding, we recommend that you get some sense of the overall design by reading about <a href="#Design-Architecture">THRIFT&#8217;s architecture</a>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="design"><a class="link" href="#design">3. Design</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this section, we will be introducing the individual components that combine together to form <code><strong>THRIFT</strong></code>. We will be including diagrams
drawn with the PlantUML software.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
There is a limitation with PlantUML sequence diagrams whereby the participation line of a member does not terminate after it is destroyed.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="Design-Architecture"><a class="link" href="#Design-Architecture">3.1. Architecture</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/ArchitectureDiagram.png" alt="ArchitectureDiagram">
</div>
<div class="title">Figure 1. Architecture diagram</div>
</div>
<div class="paragraph">
<p>The architecture diagram given above explains the high-level design of the application. We provide a quick overview of each component below.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The <code>.puml</code> files used to create diagrams in this document can be found in the <a href="https://github.com/AY1920S1-CS2103T-W12-2/main/tree/master/docs/diagrams/">diagrams</a> folder.
Refer to the <a href="UsingPlantUml.html">Using PlantUML guide</a> to learn how to create and edit diagrams.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><code><strong>Main</strong></code> has two classes called <a href="https://github.com/AY1920S1-CS2103T-W12-2/main/tree/master/src/main/java/thrift/Main.java"><code><strong>Main</strong></code></a> and <a href="https://github.com/AY1920S1-CS2103T-W12-2/main/tree/master/src/main/java/thrift/MainApp.java"><code><strong>MainApp</strong></code></a>. It is responsible for:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>At application launch: Initializes the components in the correct sequence, and connects them up with each other.</p>
</li>
<li>
<p>At shut down: Shuts down the components and invokes cleanup method where necessary.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="#Design-Commons"><code><strong>Commons</strong></code></a> represents a collection of classes used by multiple other components.
The following class plays an important role at the architecture level:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><strong>LogsCenter</strong></code> : Used by many classes to write log messages to the application&#8217;s log file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The rest of the application consists of four components.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#Design-Ui"><code><strong>UI</strong></code></a>: Displays the UI of the application.</p>
</li>
<li>
<p><a href="#Design-Logic"><code><strong>Logic</strong></code></a>: Executes the various commands.</p>
</li>
<li>
<p><a href="#Design-Model"><code><strong>Model</strong></code></a>: Holds the data of the application in-memory.</p>
</li>
<li>
<p><a href="#Design-Storage"><code><strong>Storage</strong></code></a>: Reads data from, and writes data to, the hard disk.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each of the four components</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Defines its API in an interface with the same name as the component.</p>
</li>
<li>
<p>Exposes its functionality using a <code><strong>{Component Name}Manager</strong></code> class.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example, the <code><strong>Logic</strong></code> component (see the class diagram given below) defines its API in the <code><em>Logic.java</em></code> interface and exposes its functionality using the <code><em>LogicManager.java</em></code> class.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/LogicClassDiagram.png" alt="LogicClassDiagram">
</div>
<div class="title">Figure 2. Class diagram of the <code><strong>Logic</strong></code> component</div>
</div>
<h4 id="how-the-architecture-components-interact-with-each-other" class="discrete">How the architecture components interact with each other</h4>
<div class="paragraph">
<p>The sequence diagram below shows how the components interact with each other for the scenario where the user issues the command: <strong>delete i/1</strong>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ArchitectureSequenceDiagram.png" alt="ArchitectureSequenceDiagram">
</div>
<div class="title">Figure 3. Component interactions for <strong>delete i/1</strong> command</div>
</div>
<div class="paragraph">
<p>The sections below give more details of each component.</p>
</div>
</div>
<div class="sect2">
<h3 id="Design-Ui"><a class="link" href="#Design-Ui">3.2. UI component</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/UiClassDiagram.png" alt="UiClassDiagram">
</div>
<div class="title">Figure 4. Structure of the <code><strong>UI</strong></code> component</div>
</div>
<div class="paragraph">
<p>API : <a href="https://github.com/AY1920S1-CS2103T-W12-2/main/tree/master/src/main/java/thrift/ui/Ui.java"><code><em>Ui.java</em></code></a></p>
</div>
<div class="paragraph">
<p>The UI consists of a <code><strong>MainWindow</strong></code> that is made up of parts e.g.<code><strong>BalanceBar</strong></code>, <code><strong>CommandBox</strong></code>, <code><strong>ResultDisplay</strong></code>, <code><strong>TransactionListPanel</strong></code>, <code><strong>StatusBarFooter</strong></code> etc. All these, including the <code><strong>MainWindow</strong></code>, inherit from the abstract <code><strong>UiPart</strong></code> class.</p>
</div>
<div class="paragraph">
<p>The <code><strong>UI</strong></code> component uses JavaFx UI framework. The layout of these UI parts are defined in matching <em>.fxml</em> files that are in the <em>src/main/resources/view</em> folder. For example, the layout of the <a href="https://github.com/AY1920S1-CS2103T-W12-2/main/tree/master/src/main/java/thrift/ui/MainWindow.java"><code><strong>MainWindow</strong></code></a> is specified in <a href="https://github.com/AY1920S1-CS2103T-W12-2/main/tree/master/src/main/resources/view/MainWindow.fxml"><code><strong>MainWindow.fxml</strong></code></a></p>
</div>
<div class="paragraph">
<p>The <code><strong>UI</strong></code> component does the following actions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Executes user commands using the <code><strong>Logic</strong></code> component.</p>
</li>
<li>
<p>Listens for changes to <code><strong>Model</strong></code> data so that the UI can be updated with the modified data.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Design-Logic"><a class="link" href="#Design-Logic">3.3. Logic component</a></h3>
<div id="fig-LogicClassDiagram" class="imageblock">
<div class="content">
<img src="images/LogicClassDiagram.png" alt="LogicClassDiagram">
</div>
<div class="title">Figure 5. Structure of the <code><strong>Logic</strong></code> component</div>
</div>
<div class="paragraph">
<p>API : <a href="https://github.com/AY1920S1-CS2103T-W12-2/main/tree/master/src/main/java/thrift/logic/Logic.java"><code><em>Logic.java</em></code></a></p>
</div>
<div class="paragraph">
<p><code><strong>Logic</strong></code> is an interface which <code><strong>LogicManager</strong></code> implements, allowing access to the API. The following items are examples on how the <code><strong>LogicManager</strong></code>
class can be interacted with:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code><strong>LogicManager</strong></code> uses the <code><strong>ThriftParser</strong></code> class to parse the user command.</p>
</li>
<li>
<p>This results in a <code><strong>Command</strong></code> object which is executed by the <code><strong>LogicManager</strong></code>.</p>
</li>
<li>
<p>The command execution can affect the <code><strong>Model</strong></code> (e.g. adding a <code><strong>Transaction</strong></code>).</p>
</li>
<li>
<p>The result of the command execution is encapsulated as a <code><strong>CommandResult</strong></code> object which is passed back to the <code><strong>Ui</strong></code>.</p>
</li>
<li>
<p>In addition, the <code><strong>CommandResult</strong></code> object can also instruct the <code><strong>Ui</strong></code> to perform certain actions, such as displaying help to the user.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Given below is the sequence diagram for interactions within the <code><strong>Logic</strong></code> component for the <strong>execute("delete i/1")</strong> API call.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/DeleteSequenceDiagram.png" alt="DeleteSequenceDiagram">
</div>
<div class="title">Figure 6. Interactions inside the <code><strong>Logic</strong></code> component for the <code>delete i/1</code> command</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The lifeline for <code>DeleteCommandParser</code> should end at the destroy marker (X) but due to a limitation of PlantUML, the lifeline reaches the end of diagram.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="Design-Model"><a class="link" href="#Design-Model">3.4. Model component</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/ModelClassDiagram.png" alt="628" width="600">
</div>
<div class="title">Figure 7. Structure of the <code><strong>Model</strong></code> component</div>
</div>
<div class="paragraph">
<p><strong>API</strong> : <a href="https://github.com/AY1920S1-CS2103T-W12-2/main/tree/master/src/main/java/thrift/model/Model.java"><code><em>Model.java</em></code></a></p>
</div>
<div class="paragraph">
<p>The <code><strong>Model</strong></code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>stores a <code><strong>UserPref</strong></code> object that represents the user&#8217;s preferences.</p>
</li>
<li>
<p>stores <code><strong>THRIFT</strong></code> data.</p>
</li>
<li>
<p>stores <code><strong>BudgetList</strong></code> which contains budget set for different months by the user.</p>
</li>
<li>
<p>stores <code><strong>PastUndoableCommands</strong></code> which keeps track of undoable command objects for future undo and redo operation.</p>
</li>
<li>
<p>exposes an unmodifiable <code><strong>ObservableList&lt;Transaction&gt;</strong></code> that can be 'observed' e.g. the UI can be bound to this list so that the UI automatically updates when the data in the list change.</p>
</li>
<li>
<p>does not depend on any of the other three components.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
As a more OOP model, we can store a <code>Tag</code> list in <code><strong>THRIFT</strong></code>, which <code><strong>Transaction</strong></code> can reference. This would allow <code><strong>THRIFT</strong></code> to only require one <code><strong>Tag</strong></code> object per unique <code>Tag</code>, instead of each <code><strong>Transaction</strong></code> needing their own <code><strong>Tag</strong></code> object. An example of how such a model may look like is given below.<br>
<br>
<span class="image"><img src="images/BetterModelClassDiagram.png" alt="BetterModelClassDiagram"></span>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="Design-Storage"><a class="link" href="#Design-Storage">3.5. Storage component</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/StorageClassDiagram.png" alt="StorageClassDiagram">
</div>
<div class="title">Figure 8. Structure of the <code><strong>Storage</strong></code> component</div>
</div>
<div class="paragraph">
<p>API : <a href="https://github.com/AY1920S1-CS2103T-W12-2/main/tree/master/src/main/java/thrift/storage/Storage.java"><code><em>Storage.java</em></code></a></p>
</div>
<div class="paragraph">
<p>The <code><strong>Storage</strong></code> component:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>can save <code><strong>UserPref</strong></code> objects in json format and read it back.</p>
</li>
<li>
<p>can save the <code><strong>THRIFT</strong></code> data in json format and read it back:</p>
<div class="ulist">
<ul>
<li>
<p><code><strong>JsonAdaptedTransaction</strong></code> stores <code><strong>Transaction</strong></code> objects in <code>JSON</code> format.</p>
</li>
<li>
<p><code><strong>JsonAdaptedTag</strong></code> stores <code><strong>Tag</strong></code> objects in <code>JSON</code> format, nested under <code><strong>JsonAdaptedTransaction</strong></code>.</p>
</li>
<li>
<p><code><strong>JsonAdaptedBudget</strong></code> stores <code><strong>Budget</strong></code> objects in <code>JSON</code> format.</p>
</li>
<li>
<p><code><strong>JsonCurrencyMappings</strong></code> stores <code><strong>CurrencyMappings</strong></code> HashMaps in <code>JSON</code> format.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Design-Commons"><a class="link" href="#Design-Commons">3.6. Common classes</a></h3>
<div class="paragraph">
<p>Classes used by multiple components are found in the <code><strong>thrift.commons</strong></code> package.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="implementation"><a class="link" href="#implementation">4. Implementation</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes some noteworthy details on how we implemented certain features and the various considerations
that we had.</p>
</div>
<div class="sect2">
<h3 id="adding-transactions"><a class="link" href="#adding-transactions">4.1. Adding transactions</a></h3>
<div class="paragraph">
<p>We allow users to add <code><strong>Expense</strong></code>/<code><strong>Income</strong></code> transactions into <code><strong>THRIFT</strong></code> which enables record-keeping. This section shows how we handle such
requests from the user at the back-end.</p>
</div>
<div class="sect3">
<h4 id="implementation-2"><a class="link" href="#implementation-2">4.1.1. Implementation</a></h4>
<div class="paragraph">
<p>We store every single <code><strong>Transaction</strong></code> added by the user into an <code><strong>ObservableList&lt;Transaction&gt;</strong></code>, which is a list object in <code><strong>TransactionList</strong></code>. We used an <code><strong>ObservableList</strong></code> because whenever there are changes to the list, any other component
of <code><strong>THRIFT</strong></code> using it will automatically reflect its changes.</p>
</div>
<div class="paragraph">
<p>We implemented adding a <code><strong>Transaction</strong></code> through the following commands: <strong>add_expense</strong>/<strong>add_income</strong>. This process leverages on polymorphism: <code><strong>Expense</strong></code> and <code><strong>Income</strong></code> are both subclasses of the abstract class <code><strong>Transaction</strong></code>.
Each <code><strong>Transaction</strong></code> contains the following mandatory fields: <code><strong>Description</strong></code>, <code><strong>TransactionDate</strong></code> and <code><strong>Value</strong></code>; as well as optional fields: <code><strong>Remark</strong></code>,
and <code><strong>Set&lt;Tag&gt;</strong></code>. The following class diagram depicts this relation:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/add-transaction/Polymorphism.png" alt="Polymorphism">
</div>
</div>
<div class="paragraph">
<p>Because of this polymorphism relation, many of the driver functions in <code><strong>THRIFT</strong></code> simply references <code><strong>Transaction</strong></code> and it will work for both <code><strong>Expense</strong></code>
and <code><strong>Income</strong></code> transaction objects. For example, when inserting a new <code><strong>Expense</strong></code>/<code><strong>Income</strong></code>, the <code><strong>AddTransactionCommandParser</strong></code> will determine
which object to initialize. The sequence diagram below shows how adding a <code><strong>Transaction</strong></code> work in the back-end:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/add-transaction/PolymorphismCalling.png" alt="PolymorphismCalling">
</div>
<div class="title">Figure 9. Sequence diagram of how adding a new <code>Transaction</code> is processed with polymorphism</div>
</div>
<div class="paragraph">
<p><code><strong>Expense</strong></code> and <code><strong>Income</strong></code> are normally instantiated by either <code>ExpenseCommandParser#parse(String args)</code> or <code>IncomeCommandParser#parse(String args)</code>, which
attempts to parse the various parameters supplied in <code>args</code> and return either a <code><strong>Expense</strong></code> or <code><strong>Income</strong></code> object. The following conditions will cause a <code><strong>ParseException</strong></code>
to be thrown by the parser:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Missing parameters</p>
</li>
<li>
<p>Incorrect syntax (i.e. missing prefix, if it is required)</p>
</li>
<li>
<p>Illegal values in parameters (i.e. special characters and symbols entered for a integer-only field)</p>
</li>
<li>
<p>Multiple occurrences of parameters which only expects a single entry</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the user input is incorrect due to any of the reasons above, the usage syntax will be shown.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>We will demonstrate how a <code><strong>Transaction</strong></code> is added into <code><strong>THRIFT</strong></code> and how the back-end handles each step of the process:</p>
</div>
<div class="paragraph">
<p>Step 1. The user executes <strong>add_expense n/Laksa v/3.50</strong> to insert an <code><strong>Expense</strong></code> with its <code><strong>Description</strong></code> set to "Laksa"
and its <code><strong>Value</strong></code> set to "3.50". The <code><strong>TransactionDate</strong></code> is set to the user&#8217;s current system date in the form "dd/mm/yyyy".
The input is now checked and an attempt to parse each parameter occurs:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><strong>Description</strong></code> is parsed by <code>AddTransactionCommandParser#parseTransactionDescription(ArgumentMultimap)</code></p>
</li>
<li>
<p><code><strong>Value</strong></code> is parsed by <code>AddTransactionCommandParser#parseTransactionValue(ArgumentMultimap)</code></p>
</li>
<li>
<p><code><strong>TransactionDate</strong></code> is instantiated by <code>AddTransactionCommandParser#parseTransactionDate()</code></p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code><strong>ArgumentMultimap</strong></code> is a class that stores all the parsed parameters taken from the user input.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Since the user input is valid, the <code><strong>Expense</strong></code> is successfully created and inserted into the transaction list.
The transaction list now contains 1 <code><strong>Transaction</strong></code> object.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/add-transaction/AddTransaction1.png" alt="AddTransaction1">
</div>
</div>
<div class="paragraph">
<p>Step 2. The user executes <strong>add_income n/Bursary v/500 r/Awarded for doing well in school</strong> to insert an <code><strong>Income</strong></code>.
The input is now checked in a similar fashion as in Step 2 except that:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><strong>Remark</strong></code> is parsed by <code>AddTransactionCommandParser#parseTransactionRemark(ArgumentMultimap)</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Again, since the input is valid, the <code><strong>Income</strong></code> is successfully added into the transaction list. The transaction list
now contains 2 <code><strong>Transaction</strong></code> objects.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/add-transaction/AddTransaction2.png" alt="AddTransaction2">
</div>
</div>
<div class="paragraph">
<p>The following activity diagram summarizes what happens when the user executes a command to add a new <code><strong>Transaction</strong></code>:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/add-transaction/AddTransactionActivity.png" alt="AddTransactionActivity" width="650">
</div>
<div class="title">Figure 10. Activity diagram of adding a <code><strong>Transaction</strong></code> into the transaction list</div>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">4.1.2. Design considerations</a></h4>
<div class="paragraph">
<p>There are many different ways to implement how a transaction is added into <code><strong>THRIFT</strong></code>. In this section, we will be
justifying why we chose to implement it the way we did.</p>
</div>
<div class="sect4">
<h5 id="aspect-differentiating-between-code-strong-expense-strong-code-and-code-strong-income-strong-code"><a class="link" href="#aspect-differentiating-between-code-strong-expense-strong-code-and-code-strong-income-strong-code">Aspect: Differentiating between <code><strong>Expense</strong></code> and <code><strong>Income</strong></code></a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1: (current choice):</strong> Introduce a <code><strong>Transaction</strong></code> parent class which both <code><strong>Expense</strong></code> and <code><strong>Income</strong></code>
extend from.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Introduces polymorphism, easing references to either classes by simply referencing the <code><strong>Transaction</strong></code> object.
For example, using a single <code><strong>List&lt;Transaction&gt;</strong></code> instead of needing 2 separate lists <code><strong>List&lt;Expense&gt;</strong></code> and <code><strong>List&lt;Income&gt;</strong></code>.</p>
</li>
<li>
<p>Cons: Reduces the readability of the program as polymorphism can be confusing.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Keep <code><strong>Expense</strong></code> and <code><strong>Income</strong></code> classes separate, with each having their own specialized methods.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Maintains an intuitive design: <code><strong>Expense</strong></code> deducts money and <code><strong>Income</strong></code> increases money.</p>
</li>
<li>
<p>Cons: Incurs significant overhead and duplicated codes since it is likely that both <code><strong>Expense</strong></code> and <code><strong>Income</strong></code> will
have very similar methods.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Alternative 1 was chosen because we want to model it close to the real world: both <code><strong>Expense</strong></code> and <code><strong>Income</strong></code> are described
as being a <code><strong>Transaction</strong></code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="aspect-managing-how-code-strong-value-strong-code-is-stored-and-handled-in-code-strong-expense-strong-code-and-code-strong-income-strong-code"><a class="link" href="#aspect-managing-how-code-strong-value-strong-code-is-stored-and-handled-in-code-strong-expense-strong-code-and-code-strong-income-strong-code">Aspect: Managing how <code><strong>Value</strong></code> is stored and handled in <code><strong>Expense</strong></code> and <code><strong>Income</strong></code></a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1: (current choice):</strong> Disallow negative <code><strong>Value</strong></code> in <code><strong>Expense</strong></code> object, only using positive amount
for both <code><strong>Expense</strong></code> and <code><strong>Income</strong></code></p>
<div class="ulist">
<ul>
<li>
<p>Pros: Removes the need to implement support for inserting negative <code><strong>Value</strong></code>. This is due to how <code><strong>Value</strong></code> constraints
are applied when restoring <code><strong>THRIFT</strong></code> data from the data file.</p>
</li>
<li>
<p>Cons: Requires the developer to manually negate the <code><strong>Value</strong></code> whenever calculations are done with a <code><strong>Expense</strong></code> object.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Allow only negative amount in <code><strong>Expense</strong></code> object and only positive amount in <code><strong>Income</strong></code> object</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Calculating the balance becomes trivial - simply sum up the entire <code><strong>List&lt;Transaction&gt;</strong></code>.</p>
</li>
<li>
<p>Cons: Parsing the user input to allow only a single negative symbol and no other symbols causes an overhead.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Alternative 1 was chosen because we want to keep the transaction list clean - only positive integers are stored.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="setting-budgets"><a class="link" href="#setting-budgets">4.2. Setting budgets</a></h3>
<div class="paragraph">
<p>We allow the user to maintain a <code><strong>Budget</strong></code> for each calendar month. This section details how <code><strong>THRIFT</strong></code> handles
requests made by the user who is trying to set a budget for their desired month. Each <code><strong>Budget</strong></code> stores a <code><strong>Calendar</strong></code> attribute <code>period</code>
and a <code><strong>BudgetValue</strong></code> attribute <code>value</code>. The following class diagram shows how a <code><strong>Budget</strong></code> object looks like:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/add-budget/BudgetClassDiagram.png" alt="BudgetClassDiagram">
</div>
</div>
<div class="sect3">
<h4 id="implementation-3"><a class="link" href="#implementation-3">4.2.1. Implementation</a></h4>
<div class="paragraph">
<p>We store every <code><strong>Budget</strong></code> set by the user into <code><strong>BudgetList</strong></code>, which is a class containing a <code><strong>List</strong></code> object named <code>internalList</code>.
This list will contain only one <code><strong>Budget</strong></code> object for each month, with the month uniqueness indicated by <code>period</code> in the "MM/YYYY" format.
Below is a class diagram explaining how the relations look:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/add-budget/BudgetListClassDiagram.png" alt="BudgetListClassDiagram">
</div>
</div>
<div class="paragraph">
<p>Whenever the user attempts to set a <code><strong>Budget</strong></code>, <code><strong>THRIFT</strong></code> will check if that <code><strong>Budget</strong></code> currently exists in <code>internalList</code>.
To facilitate the checking, <code><strong>BudgetList</strong></code> contains a few methods that simplify the process:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>BudgetList#getBudgetForMonthYear(Calendar toCheck)</code> - Checks if <code>toCheck</code> matches any of the <code>period</code> from a <code><strong>Budget</strong></code> in <code>internalList</code>.</p>
</li>
<li>
<p><code>BudgetList#setBudget(Budget toSet)</code> - Adds <code>toSet</code> into <code>internalList</code>, possibly overwriting a <code><strong>Budget</strong></code> in <code>internalList</code> if its <code>period</code> matches the <code>period</code> in <code>toSet</code>.</p>
</li>
<li>
<p><code>BudgetList#removeBudget(Budget toRemove)</code> - Removes <code>toRemove</code> from <code>internalList</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>We will demonstrate what happens at the back-end whenever the user sets a budget and overwrites it afterwards. The user has not set any <code><strong>Budget</strong></code>
before, so <code>internalList</code> is empty:</p>
</div>
<div class="paragraph">
<p>Step 1. The user wishes to set their budget for October 2019 as $1500. They execute the command: <strong>budget v/1500 d/10/2019</strong>.
The user&#8217;s entry is checked by <code>BudgetCommandParser#parse()</code> and an attempt to parse each parameter occurs:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><strong>Calendar</strong></code> is parsed by <code>ParseUtil#parseDate(ArgumentMultimap)</code></p>
</li>
<li>
<p><code><strong>BudgetValue</strong></code> is parsed by <code>ParseUtil#parseBudgetValue(ArgumentMultimap)</code></p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code><strong>ArgumentMultimap</strong></code> is a class that stores all the parsed parameters taken from the user input.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Since the user input is valid, the <code><strong>Budget</strong></code> is successfully created and inserted into <code>internalList</code>.</p>
</div>
<div class="paragraph">
<p>Step 2. The user wishes to set a new budget for October 2019 as $2000. They execute the command: <strong>budget v/2000 d/10/2019</strong>.
The user&#8217;s entry is once again checked to be valid and a new <code><strong>Budget</strong></code> is created. Before it is inserted into
<code>internalList</code>, a check to see if a budget is already set for that month will occur. Since there is already a
budget set for October 2019, the existing budget is replaced by this newly created <code><strong>Budget</strong></code>.</p>
</div>
<div class="paragraph">
<p>The following code snippet is part of <code>BudgetList#setBudget(Budget toSet)</code> and demonstrates how this checking is done:</p>
</div>
<div class="listingblock">
<div class="title">BudgetList.java</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// The following variable is declared above:</span>
<span class="comment">// List&lt;Budget&gt; internalList = new ArrayList&lt;&gt;();</span>

Optional&lt;Budget&gt; optBudget = getBudgetForMonthYear(toSet.getBudgetDate());
<span class="keyword">if</span> (optBudget.isPresent()) {
    Budget existingBudget = optBudget.get();
    internalList.set(internalList.indexOf(existingBudget), toSet);
} <span class="keyword">else</span> {
    internalList.add(toSet);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The sequence diagram below depicts what was just elaborated:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/add-budget/BudgetSequenceDiagram.png" alt="BudgetSequenceDiagram">
</div>
<div class="title">Figure 11. Sequence diagram showing how a <code><strong>Budget</strong></code> is set</div>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-2"><a class="link" href="#design-considerations-2">4.2.2. Design considerations</a></h4>
<div class="paragraph">
<p>We have considered various ways as to how <code><strong>Budget</strong></code> should be stored in <code><strong>THRIFT</strong></code>. In this section, we will explain the
rationale on our course of actions.</p>
</div>
<div class="sect4">
<h5 id="aspect-treat-code-strong-budget-strong-code-as-an-code-strong-income-strong-code-therefore-extending-from-code-strong-transaction-strong-code"><a class="link" href="#aspect-treat-code-strong-budget-strong-code-as-an-code-strong-income-strong-code-therefore-extending-from-code-strong-transaction-strong-code">Aspect: Treat <code><strong>Budget</strong></code> as an <code><strong>Income</strong></code>, therefore extending from <code><strong>Transaction</strong></code></a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> <code><strong>Budget</strong></code> should remain separate from <code><strong>Transaction</strong></code> as it can introduce unnecessary
coupling. Budget does not need to contain <code><strong>Remark</strong></code> nor <code><strong>Tag</strong></code>.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Freedom in dealing with <code><strong>Budget</strong></code> objects, no need to comply with <code><strong>Transaction</strong></code> attributes.</p>
</li>
<li>
<p>Cons: Overhead in dealing with a separate list in <code><strong>Thrift</strong></code> class, ultimately requiring 2 lists to hold <code><strong>Transaction</strong></code>
and <code><strong>Budget</strong></code> respectively.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Alternative 2: <code><strong>Budget</strong></code> should extend <code><strong>Transaction</strong></code> since it is somewhat a form of <code><strong>Income</strong></code>.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Able to store <code><strong>Budget</strong></code> into <code><strong>TransactionList</strong></code>, resulting in only one list to manage. <code><strong>Budget</strong></code> can also
be easily displayed as a <code><strong>Transaction</strong></code> card on the UI, reducing the need to handle a separate list.</p>
</li>
<li>
<p>Cons: May cause possible complications to arise if the user wishes to set a different budget and the <code><strong>TransactionList</strong></code>
is huge. <code><strong>THRIFT</strong></code> needs to look through the huge list to find the <code><strong>Budget</strong></code> to replace.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Again, we went with alternative 1 because we wanted to simulate the real-world relation. Otherwise, there might be confusion
since <code><strong>Budget</strong></code> is not really related to <code><strong>Transaction</strong></code> in the real world.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="tag-untag-feature"><a class="link" href="#tag-untag-feature">4.3. Tag/Untag feature</a></h3>
<div class="paragraph">
<p>We allow the user to add and remove custom <code><strong>Tag</strong></code> objects in <code><strong>Transaction</strong></code> entries so that they can categorise the entries to their own liking.
The following sections describe how this feature is implemented and the design considerations that led to the solution.</p>
</div>
<div class="sect3">
<h4 id="implementation-4"><a class="link" href="#implementation-4">4.3.1. Implementation</a></h4>
<div class="paragraph">
<p>The <strong>tag</strong>/<strong>untag</strong> command performs modifications on existing <code><strong>Transaction</strong></code> entries that reside in the <code><strong>Model</strong></code>. Implemented using the concept of polymorphism , both <code><strong>Expense</strong></code> and <code><strong>Income</strong></code> objects extend the abstract class <code><strong>Transaction</strong></code>, and are treated the same way in the context of the <strong>tag</strong>/<strong>untag</strong> command.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/tag-untag/TagPolymorphism.png" alt="TagPolymorphism" width="250">
</div>
<div class="title">Figure 12. A class diagram illustrating the implementation of <code><strong>Tag</strong></code> inside a <code><strong>Transaction</strong></code></div>
</div>
<div class="paragraph">
<p>Due to this polymorphic implementation, many of the driver functions in <code><strong>THRIFT</strong></code> use the <code><strong>Transaction</strong></code> class for both <code><strong>Expense</strong></code>
and <code><strong>Income</strong></code> objects. For example, when tagging a new <code><strong>Expense</strong></code>/<code><strong>Income</strong></code> object, the <code><strong>TagCommandParser</strong></code> will treat them as the same object:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/tag-untag/TagSequence.png" alt="TagSequence" width="450">
</div>
<div class="title">Figure 13. A sequence diagram showing how the <code><strong>TagCommandParser</strong></code> is called</div>
</div>
<div class="paragraph">
<p>When a user enters a <strong>tag</strong>/<strong>untag</strong> command, it is parsed by the respective <code>TagCommandParser#parse(String args)</code> and <code>UntagCommandParser#parse(String args)</code> parsers and returns a <code><strong>TagCommand</strong></code> command object or a <code><strong>UntagCommand</strong></code> command object  respectively, which will be executed. For both commands, the following conditions will cause a <code><strong>ParseException</strong></code> to be thrown by their respective parsers:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Missing parameters</p>
</li>
<li>
<p>Incorrect syntax (i.e. missing prefix, if it is required)</p>
</li>
<li>
<p>Illegal values in parameters (i.e. non-alphanumeric values given for <code><strong>Tag</strong></code> names)</p>
</li>
<li>
<p>Multiple occurrences of parameters which only expects a single entry</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the user input is incorrect due to any of the reasons above, the corresponding usage syntax will be shown.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following is an example on how a <code><strong>Tag</strong></code> is added and removed from a <code><strong>Transaction</strong></code>, with details on the processes done in the backend.</p>
</div>
<div class="paragraph">
<p>Step 1. The user launches the application with data from previous sessions. THRIFT currently contains two <code><strong>Transaction</strong></code> objects and the user is going to perform tagging and un-tagging operations on one of them.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/tag-untag/TagUntag1.png" alt="TagUntag1" width="450">
</div>
</div>
<div class="paragraph">
<p>Step 2. The user executes the command <strong>tag i/1 t/Delicious</strong> to tag the <code><strong>Transaction</strong></code> at <code><strong>Index</strong></code> 1 with the <code><strong>Tag</strong></code> "Delicious". The input is checked with the <code><strong>TagCommandParser</strong></code> parser and an attempt to parse each parameter occurs:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><strong>Index</strong></code> is parsed by <code>ParserUtil#parseIndex(String)</code></p>
</li>
<li>
<p><code><strong>Tag</strong></code> strings are parsed by <code>ParserUtil#parseTags(Collection&lt;String&gt;)</code> which calls <code>ParserUtil#parseTag(String)</code> iteratively for every string in the collection</p>
</li>
</ul>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<code><strong>ParserUtil</strong></code> is a class that contains useful functions for parsing the inputs from the user.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Tags that already exist inside the specified <code><strong>Transaction</strong></code> will be ignored, and if that results in no tags being added, an error will be shown to the user.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Since the user input is valid, a <code><strong>TagCommand</strong></code> command object is created and executed. As a result, a copy of the <code><strong>Transaction</strong></code> object with the specified <code><strong>Tag</strong></code> added replaces the original in the <code><strong>TransactionList</strong></code> at the same position.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/tag-untag/TagUntag2.png" alt="TagUntag2" width="450">
</div>
</div>
<div class="paragraph">
<p>Step 3. The user realises that the <code><strong>Tag</strong></code> added was not appropriate. The user then executes the command <strong>untag i/1 t/Delicious</strong> to untag the <code><strong>Tag</strong></code> "Delicious" from the <code><strong>Transaction</strong></code> at <code><strong>Index</strong></code> 1. The input is now checked with the <code><strong>UntagCommandParser</strong></code> parser and similarly, an attempt to parse each parameter occurs.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><strong>Index</strong></code> is parsed by <code>ParserUtil#parseIndex(String)</code></p>
</li>
<li>
<p><code><strong>Tag</strong></code> strings are parsed by <code>ParserUtil#parseTags(Collection&lt;String&gt;)</code> which calls <code>ParserUtil#parseTag(String)</code> iteratively for every string in the collection</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Tags that do not exist inside the specified <code><strong>Transaction</strong></code> will be ignored, and if that results in no tags being deleted, an error will be shown to the user.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Again, since the user input is valid, a <code><strong>UntagCommand</strong></code> command object is created and executed. As a result, a copy of the <code><strong>Transaction</strong></code> object with the specified <code><strong>Tag</strong></code> deleted replaces the original in the <code><strong>TransactionList</strong></code> at the same position.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/tag-untag/TagUntag1.png" alt="TagUntag1" width="450">
</div>
</div>
<div class="paragraph">
<p>The following activity diagram summarises what happens when the user executes a command to tag a <code><strong>Transaction</strong></code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/tag-untag/TagActivity.png" alt="TagActivity" width="550">
</div>
<div class="title">Figure 14. Activity diagram of the tagging process</div>
</div>
<div class="paragraph">
<p>The <strong>untag</strong> command follows the same flow except for the following differences:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Continues with the operation only if at least some <code><strong>Tag</strong></code> objects exist in <code><strong>Transaction</strong></code> to be un-tagged</p>
</li>
<li>
<p>Ignores <code><strong>Tag</strong></code> objects that do not already exist in the <code><strong>Transaction</strong></code> as they are not valid for deletion</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-3"><a class="link" href="#design-considerations-3">4.3.2. Design considerations</a></h4>
<div class="sect4">
<h5 id="aspect-mutability-of-code-strong-transaction-strong-code-objects"><a class="link" href="#aspect-mutability-of-code-strong-transaction-strong-code-objects">Aspect: Mutability of <code><strong>Transaction</strong></code> objects</a></h5>
<div class="paragraph">
<p>The mutability of the <code><strong>Transaction</strong></code> objects will affect how well the code follows convention, and here are two designs that can be considered:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1: (current choice)</strong>: Create a copy of the <code><strong>Transaction</strong></code> object with modified tags and replace the original in the <code><strong>TransactionList</strong></code></p>
<div class="ulist">
<ul>
<li>
<p>Pros: Adheres to the Open-Closed principle of the SOLID design principles, guarantees the resultant <code><strong>Transaction</strong></code> to be as expected and not modified incorrectly during the <strong>tag</strong>/<strong>untag</strong> process.</p>
</li>
<li>
<p>Cons: Creates a copy of the <code><strong>Transaction</strong></code> during the <strong>tag</strong>/<strong>untag</strong> process and increases the space complexity of the process.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2</strong>: Modify the <code><strong>Transaction</strong></code> object directly to modify tags.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Modifies the <code><strong>Transaction</strong></code> object in place, thus the space complexity of the process is constant.</p>
</li>
<li>
<p>Cons: Violates the Open-Closed principle of the SOLID design principles, the <code><strong>Transaction</strong></code> object can be modified incorrectly during the <strong>tag</strong>/<strong>untag</strong> process.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Alternative 1 was chosen as we want to ensure the correctness of the <strong>tag</strong>/<strong>untag</strong> process.</p>
</div>
</div>
<div class="sect4">
<h5 id="aspect-uniqueness-of-code-strong-tag-strong-code-objects-within-a-code-strong-transaction-strong-code"><a class="link" href="#aspect-uniqueness-of-code-strong-tag-strong-code-objects-within-a-code-strong-transaction-strong-code">Aspect: Uniqueness of <code><strong>Tag</strong></code> objects within a <code><strong>Transaction</strong></code></a></h5>
<div class="paragraph">
<p>The uniqueness of <code><strong>Tag</strong></code> objects within a <code><strong>Transaction</strong></code>  will determine how meaningful a tag is, and here are two designs that can be considered:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1:</strong> Do not check if the <code><strong>Tag</strong></code> objects exist(s) within a <code><strong>Transaction</strong></code> when adding <code><strong>Tag</strong></code> objects and implicitly allow duplicates.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Results in a simpler implementation of <strong>tag</strong> command, as there is no need to check for potential duplicates.</p>
</li>
<li>
<p>Cons: Makes each tag less meaningful as they are no longer unique.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2: (current choice)</strong> Check if the <code><strong>Tag</strong></code> objects exist(s) within a <code><strong>Transaction</strong></code> when adding <code><strong>Tag</strong></code> objects, explicitly prevent duplicates.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Makes each tag more meaningful as they are unique.</p>
</li>
<li>
<p>Cons: Results in a more complex implementation of the <strong>tag</strong> command, as there is a need to check for potential duplicates.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Alternative 2 was chosen as we want to ensure that tags are meaningful to the user.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="updating-transactions"><a class="link" href="#updating-transactions">4.4. Updating transactions</a></h3>
<div class="paragraph">
<p>The <strong>update </strong>functionality modifies details of a specified <code><strong>Transaction</strong></code> in the existing list and saves
modifications to the external storage file.</p>
</div>
<div class="sect3">
<h4 id="implementation-5"><a class="link" href="#implementation-5">4.4.1. Implementation</a></h4>
<div class="paragraph">
<p><strong>Update</strong> mechanism utilizes <code><strong>Logic</strong></code> operations with the <code><strong>UpdateCommand</strong></code> class in place of
<code><strong>Command</strong></code>, and a unique <code><strong>UpdateCommandParser</strong></code> class. The following methods are concrete implementations for
<strong>update</strong> operations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>UpdateCommandParser#parse()</code> - Parses the user&#8217;s input and creates an <code><strong>UpdateCommand</strong></code> to execute the command.</p>
</li>
<li>
<p><code>UpdateCommand#execute()</code> - Modifies the <code><strong>Transaction</strong></code> in <code><strong>Model</strong></code> with new details and returns a
<code><strong>CommandResult</strong></code> (<a href="#Design-Logic">Step 4 of Logic</a>).</p>
</li>
<li>
<p><code>TransactionList#setTransactionWithIndex()</code> - Sets the modified <code><strong>Transaction</strong></code> to its correct position in the
existing <code><strong>TransactionList</strong></code>.</p>
<div class="ulist">
<ul>
<li>
<p>This <code><strong>TransactionList</strong></code> is wrapped in <code><strong>Thrift</strong></code> and its <code>setTransactionWithIndex()</code> is called through
<code>Thrift#setTransactionWithIndex()</code>.</p>
</li>
<li>
<p><code>Thrift#setTransactionWithIndex()</code> is exposed in the <code><strong>Model</strong></code> interface as <code>Model#setTransactionWithIndex()</code>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following Object Diagram illustrates objects involved in the execution of <strong>update</strong> command:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/update/updateDG/UpdateObjectDiagram.png" alt="UpdateObjectDiagram">
</div>
<div class="title">Figure 15. Existing objects when executing <strong>update</strong> on an <code><strong>Income</strong></code></div>
</div>
<div class="sect4">
<h5 id="example-of-usage"><a class="link" href="#example-of-usage">Example of usage</a></h5>
<div class="paragraph">
<p>Given next is an example usage scenario for updating a transaction and explanation of how the <strong>update</strong> mechanism
behaves at each step:</p>
</div>
<div class="paragraph">
<p>Step 1. The user starts up the application with an initial list loaded from external storage file. The diagram here
depicts the example list used throughout this scenario.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/update/updateDG/UpdateStep1.png" alt="UpdateStep1" width="650">
</div>
<div class="title">Example list on startup</div>
</div>
<div class="paragraph">
<p>Step 2. The user inputs <strong>update i/1 n/Government Bursary v/600</strong> to update the 1st transaction&#8217;s name to "Government
Bursary" and value to "600". Input is parsed by <code>UpdateCommandParser#parse()</code> which creates an <code><strong>UpdateCommand</strong></code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The 1st transaction specified here is an <code><strong>Income</strong></code>.
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="images/update/updateDG/UpdateStep2.png" alt="UpdateStep2" width="650">
</div>
<div class="title">Example user input for update command</div>
</div>
<div class="paragraph">
<p>Step 3. <code>UpdateCommand#execute()</code> creates a new transaction that reflects the changes and gets the index of current
transaction to be updated.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/update/updateDG/UpdateStep3.png" alt="UpdateStep3" width="650">
</div>
<div class="title">Creation of new updated transaction in <code>UpdateCommand#execute()</code></div>
</div>
<div class="paragraph">
<p>Step 4. <code>UpdateCommand#execute()</code> replaces original transaction in the list with the updated transaction.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/update/updateDG/UpdateStep4Part1.png" alt="UpdateStep4Part1" width="650">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/update/updateDG/UpdateStep4Part2.png" alt="UpdateStep4Part2" width="650">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/update/updateDG/UpdateStep4Part3.png" alt="UpdateStep4Part3" width="650">
</div>
<div class="title">Replacement of original transaction with updated transaction by <code>UpdateCommand#execute()</code></div>
</div>
<div class="paragraph">
<p>The following code snippet from <code>UpdateCommand#execute()</code> shows the creation of an updated transaction and the
replacement of the original transaction with the updated one:</p>
</div>
<div class="listingblock">
<div class="title">UpdateCommand#execute()</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// updateTransactionDescriptor is a class containing details to be contained by the new updated transaction.</span>

transactionToUpdate = lastShownList.get(index.getZeroBased());

<span class="comment">// ...Status message code omitted...</span>

updatedTransaction = createUpdatedTransaction(transactionToUpdate, updateTransactionDescriptor);

<span class="comment">// ...Logging and status message code omitted...</span>

actualIndex = model.getIndexInFullTransactionList(transactionToUpdate).get();
model.setTransactionWithIndex(actualIndex, updatedTransaction);</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="execution-shown-to-user"><a class="link" href="#execution-shown-to-user">Execution shown to user</a></h5>
<div class="paragraph">
<p>The following activity diagram gives an overview of what THRIFT shows the user when executing <strong>update</strong> command:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/update/updateDG/UpdateActivityDiagram.png" alt="UpdateActivityDiagram">
</div>
<div class="title">Figure 16. Activity diagram for execution of update command</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-4"><a class="link" href="#design-considerations-4">4.4.2. Design considerations</a></h4>
<div class="paragraph">
<p>This subsection explores some alternative designs considered for certain aspects of the feature&#8217;s implementation.</p>
</div>
<div class="sect4">
<h5 id="aspect-modifying-details-of-a-transaction"><a class="link" href="#aspect-modifying-details-of-a-transaction">Aspect: Modifying details of a transaction</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice)</strong>: Replace the original transaction with a new updated transaction.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easy to implement and keep track of new objects containing new details.</p>
</li>
<li>
<p>Cons: Incurs overhead when creating new instance of <code><strong>Transaction</strong></code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2</strong>: Modify the transaction directly using setter methods.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easy to implement and highly efficient.</p>
</li>
<li>
<p>Cons: Allowing modification of transactions violates immutability principle, possibly resulting in bugs for UI or
accessing modified transaction fields if there is delay in updating.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Alternative 1 chosen</strong> to maintain better coding practices and keep transactions immutable for the entire project.
Overhead of creating new <code><strong>Transaction</strong></code> object not a significant factor as it is not a very large object.</p>
</div>
</div>
<div class="sect4">
<h5 id="aspect-method-of-replacing-original-transaction-with-updated-version"><a class="link" href="#aspect-method-of-replacing-original-transaction-with-updated-version">Aspect: Method of replacing original transaction with updated version</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice)</strong>: Get the index of original transaction in the transactions list and <code>set</code> updated
transaction to that index.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: High level of certainty that updated transaction replaces the correct outdated transaction and occupies the
correct index in the list. Highly efficient.</p>
</li>
<li>
<p>Cons: A little more coding required to get the index of original transaction.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2</strong>: Iterate through the transactions list and directly set the updated transaction at the first
instance of original transaction found.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Under the assumption that each <code><strong>Transaction</strong></code> is unique, index to replace can be easily found by iterating
through the list with a simple loop.</p>
</li>
<li>
<p>Cons: Efficiency decreases as transactions list size increases. If transactions not unique, incorrect transaction may
be replaced if a transaction identical to the one supposed to be replaced is found earlier in the list.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="cloning-transactions"><a class="link" href="#cloning-transactions">4.5. Cloning transactions</a></h3>
<div class="paragraph">
<p>The <strong>clone</strong> feature creates one or more duplicates of a specified <code><strong>Transaction</strong></code> and adds them to the end of the
existing transactions list.</p>
</div>
<div class="sect3">
<h4 id="implementation-6"><a class="link" href="#implementation-6">4.5.1. Implementation</a></h4>
<div class="paragraph">
<p>An <code><strong>Index</strong></code> and <code><strong>Occurrence</strong></code> are obtained from their representation in user input. The <code><strong>Index</strong></code> specifies
which transaction to clone, while the <code><strong>Occurrence</strong></code> informs THRIFT how many clones of the transaction should be
created (<code>Occurrence#numOccurrences</code>) and the time period between them (<code>Occurrence#frequency</code>).</p>
</div>
<div class="paragraph">
<p>Here is a Class Diagram for the implementation of <code><strong>Occurrence</strong></code>:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/clone/cloneDG/OccurrenceClassDiagram.png" alt="OccurrenceClassDiagram">
</div>
<div class="title">Figure 17. Implementation of <code><strong>Occurrence</strong></code> class</div>
</div>
<div class="paragraph">
<p>The <strong>clone</strong> functionality is facilitated by common <code><strong>Logic</strong></code> operations and classes for commands, with
feature-specific classes <code><strong>CloneCommand</strong></code> in place of <code><strong>Command</strong></code>, and <code><strong>CloneCommandParser</strong></code>.
The following methods are concrete implementations unique to <strong>clone</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>CloneCommandParser#parse()</code> - Parses user input to extract an <code><strong>Index</strong></code> and create an <code><strong>Occurrence</strong></code>, then passes
them as parameters to a new <code><strong>CloneCommand</strong></code> for execution.</p>
</li>
<li>
<p><code>CloneCommand#execute()</code> - Adds one or more identical copies of specified <code><strong>Transaction</strong></code> to <code><strong>Model</strong></code>, then
returns a <code><strong>CommandResult</strong></code> (<a href="#Design-Logic">Step 4 of Logic</a>).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following sequence diagram illustrates <strong>clone</strong> command execution:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/clone/cloneDG/CloneSequenceDiagram.png" alt="CloneSequenceDiagram">
</div>
<div class="title">Figure 18. Sequence diagram for <strong>clone</strong> execution with 12 occurrences on an <code><strong>Expense</strong></code></div>
</div>
<div class="sect4">
<h5 id="example-of-usage-2"><a class="link" href="#example-of-usage-2">Example of usage</a></h5>
<div class="paragraph">
<p>Given next is an example usage scenario for cloning a transaction and explanation of how the <strong>clone</strong> mechanism behaves
at each step:</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This entire scenario uses the list of all transactions.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Step 1. The user starts up the application with an initial list loaded from external storage file. The diagram here
depicts the example list used throughout this scenario. In particular, this example will observe the cloning of the
transaction at index 4.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/clone/cloneDG/CloneStep1.png" alt="CloneStep1" width="650">
</div>
<div class="title">Example list on startup</div>
</div>
<div class="paragraph">
<p>Step 2 (i). The user inputs <strong>clone i/4</strong> or <strong>clone i/4 o/daily:0</strong> to create 1 copy of the transaction at index 4 on
the date when command is called - for this example, current date when command is used is 02/12/2019.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/clone/cloneDG/CloneStep2Part1.png" alt="CloneStep2Part1" width="650">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/clone/cloneDG/CloneStep2Part2.png" alt="CloneStep2Part2" width="650">
</div>
<div class="title">Creating one copy of transaction at index 4 and adding it to the list.</div>
</div>
<div class="paragraph">
<p>Step 2 (ii). The user removes the clone created in Step 2 (i) using <strong>delete i/6</strong> command.</p>
</div>
<div class="paragraph">
<p>Step 3. The user inputs <strong>clone i/4 o/monthly:12</strong> to create 12 copies of the transaction at index 4 with dates one
month apart from each other (30/12/2019 to 30/11/2020), and add them to the list. Input is parsed by
<code>CloneCommandParser#parse()</code> which creates a <code><strong>CloneCommand</strong></code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/clone/cloneDG/CloneStep3.png" alt="CloneStep3" width="650">
</div>
</div>
<div class="paragraph">
<p>Step 4. <code>CloneCommand#execute()</code> creates copies of the transaction to be cloned with their dates of occurrence set one
month apart. The copies are then added to the list.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/clone/cloneDG/CloneStep4Part1.png" alt="CloneStep4Part1" width="650">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/clone/cloneDG/CloneStep4Part2.png" alt="CloneStep4Part2" width="650">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/clone/cloneDG/CloneStep4Part3.png" alt="CloneStep4Part3" width="650">
</div>
<div class="title">Creating copies of transaction at index 4 and adding them to the list.</div>
</div>
</div>
<div class="sect4">
<h5 id="execution-observed-by-user"><a class="link" href="#execution-observed-by-user">Execution observed by user</a></h5>
<div class="paragraph">
<p>The following activity diagram gives an overview of what the user observes when executing <strong>clone</strong> command:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/clone/cloneDG/CloneActivityDiagram.png" alt="CloneActivityDiagram">
</div>
<div class="title">Figure 19. Activity diagram for execution of <strong>clone</strong> command</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-5"><a class="link" href="#design-considerations-5">4.5.2. Design considerations</a></h4>
<div class="paragraph">
<p>This subsection explores some alternative designs considered for certain aspects of the feature&#8217;s implementation.</p>
</div>
<div class="sect4">
<h5 id="aspect-representing-occurrences-for-execution"><a class="link" href="#aspect-representing-occurrences-for-execution">Aspect: Representing occurrences for execution</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice)</strong>: Implement a new class <code><strong>Occurrence</strong></code> to represent occurrences.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Good Object-Oriented Programming design adhering to principles of abstraction and encapsulation. Utility methods
to process occurrences can be kept in a single class.</p>
</li>
<li>
<p>Cons: More code and memory required for entire <code><strong>Occurrence</strong></code> class.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2</strong>: Directly pass the results from parsing occurrence representation in user input as parameters to
execution methods.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Quick and efficient in producing parameters for execution.</p>
</li>
<li>
<p>Cons: May be complicated to trace parameters when passing between different methods. Unable to implement utility
methods to process occurrences within a single class.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="aspect-maintaining-a-store-for-valid-values-of-code-occurrence-frequency-code"><a class="link" href="#aspect-maintaining-a-store-for-valid-values-of-code-occurrence-frequency-code">Aspect: Maintaining a store for valid values of <code>Occurrence#frequency</code></a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice)</strong>: Store valid <code>frequency</code> values within a static non-modifiable "final" array inside
<code><strong>Occurrence</strong></code></p>
<div class="ulist">
<ul>
<li>
<p>Pros: Implementation is simple with relatively little coding needed. Values cannot be modified after initialization of
array, preventing invalid values from being added later.</p>
</li>
<li>
<p>Cons: An additional field of type array has to be included in <code><strong>Occurrence</strong></code> class.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2</strong>: Store valid values as <code><strong>Enum</strong></code></p>
<div class="ulist">
<ul>
<li>
<p>Pros: Validity of values in <code><strong>Enum</strong></code> form all but assured, there will never be invalid values.</p>
</li>
<li>
<p>Cons: More code and memory required for entire <code><strong>Enum</strong></code> classes.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="undo-redoing-undoable-commands"><a class="link" href="#undo-redoing-undoable-commands">4.6. Undo/Redoing undoable commands</a></h3>
<div class="paragraph">
<p><code><strong>UndoCommand</strong></code> allows the user to revert <code><strong>THRIFT</strong></code> to its previous state when they have made a mistake. <code><strong>RedoCommand</strong></code>  does
the opposite of <code><strong>UndoCommand</strong></code>, useful for when users change their minds.</p>
</div>
<div class="paragraph">
<p>The underlying data structure of the undo and redo feature is implemented in <code><strong>PastUndoableCommands</strong></code>. It consists of two stacks:
<code>UndoStack</code> and <code>RedoStack</code>. It provides the following methods:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>PastUndoableCommands#addPastCommand(Undoable undoable)</code>&#8201;&#8212;&#8201;Keeps track of the undoable command objects.</p>
</li>
<li>
<p><code>PastUndoableCommands#getCommandToUndo()</code>&#8201;&#8212;&#8201;Retrieves undoable command object from <code>UndoStack</code> to perform undo.</p>
</li>
<li>
<p><code>PastUndoableCommands#hasUndoable()</code>&#8201;&#8212;&#8201;Checks if there is any undoable command object to perform undo.</p>
</li>
<li>
<p><code>PastUndoableCommands#getCommandToRedo()</code>&#8201;&#8212;&#8201;Retrieves undone command object from <code>RedoStack</code> to perform redo.</p>
</li>
<li>
<p><code>PastUndoableCommands#hasRedoCommand()</code>&#8201;&#8212;&#8201;Checks if there is any undone command object to perform redo.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function wrappers to these methods are <code>Model#keepTrackCommands(Undoable command)</code>, <code>Model#getPreviousUndoableCommand()</code>, <code>Model#hasUndoableCommand()</code>,
<code>Model#getUndoneCommand()</code> and <code>Model#hasUndoneCommand()</code> respectively.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Undoable commands are <code><strong>AddExpenseCommand</strong></code>, <code><strong>AddIncomeCommand</strong></code>, <code><strong>CloneCommand</strong></code>, <code><strong>DeleteCommand</strong></code>, <code><strong>TagCommand</strong></code>, <code><strong>UntagCommand</strong></code>, <code><strong>UpdateCommand</strong></code>, <code><strong>BudgetCommand</strong></code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Every undoable command object will be stored in the <code>UndoStack</code> once it is executed. It will only be stored in <code>RedoStack</code> when the user executed
<strong>undo</strong>.</p>
</div>
<div class="sect3">
<h4 id="implementation-7"><a class="link" href="#implementation-7">4.6.1. Implementation</a></h4>
<div class="paragraph">
<p>The below scenario illustrates how undo and redo feature works:</p>
</div>
<div class="paragraph">
<p>Step 1. The application is launched with an empty transaction list. Both <code>UndoStack</code> and <code>RedoStack</code> are empty upon initializing <code><strong>PastUndoableCommands</strong></code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoAndRedo/initialUndoRedo.PNG" alt="initialUndoRedo" width="250">
</div>
</div>
<div class="paragraph">
<p>Step 2. The user executes <strong>add_expense n/Laksa v/4</strong> to add Laksa to the <code><strong>TransactionList</strong></code>.
The <code><strong>LogicManager</strong></code> invokes the method <code>Model#keepTrackCommands(Undoable undoable)</code> to keep track of the <code><strong>AddExpenseCommand</strong></code> object
that was used to add Laksa. This <code><strong>AddExpenseCommand</strong></code> object is pushed into <code>UndoStack</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoAndRedo/addExpense.PNG" alt="addExpense" width="250">
</div>
</div>
<div class="paragraph">
<p>Step 3. The user executes <strong>undo</strong> to remove Laksa from <code><strong>TransactionList</strong></code>.
The <code><strong>UndoCommand</strong></code> invokes the method <code>Model#getPreviousUndoableCommand()</code> to retrieve the <code><strong>AddExpenseCommand</strong></code> object.
<code><strong>AddExpenseCommand</strong></code> is popped from <code>UndoStack</code> and pushed into <code>RedoStack</code> before being returned to the callee.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoAndRedo/undo.PNG" alt="undo" width="250">
</div>
</div>
<div class="paragraph">
<p>The sequence diagram shows how <strong>undo</strong> works for <code><strong>AddExpenseCommand</strong></code>:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoAndRedo/UndoAddExpenseSequenceDiagram.png" alt="UndoAddExpenseSequenceDiagram">
</div>
<div class="title">Figure 20. Sequence diagram of how <code><strong>UndoCommand</strong></code> is applied at the back-end</div>
</div>
<div id="GeneralUndoSequence" class="paragraph">
<p>A general sequence diagram to illustrate how <strong>undo</strong> works for undoable commands:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoAndRedo/UndoGeneralSequenceDiagram.png" alt="UndoGeneralSequenceDiagram">
</div>
<div class="title">Figure 21. General sequence diagram of how <code><strong>UndoCommand</strong></code> is applied at the back-end for undoable commands</div>
</div>
<div class="paragraph">
<p>Step 4. The user executes <strong>redo</strong> to add Laksa back to <code><strong>TransactionList</strong></code>.
The <code><strong>RedoCommand</strong></code> invokes the method <code>Model#getUndoneCommand()</code> to retrieve the <code><strong>AddExpenseCommand</strong></code> object.
<code><strong>AddExpenseCommand</strong></code> is popped from <code>RedoStack</code> and pushed into <code>UndoStack</code> before being returned to the callee.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoAndRedo/redo.PNG" alt="redo" width="250">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
All undoable commands objects stored in <code>RedoStack</code> are purged when the user executes another undoable command.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The sequence diagram shows how <strong>redo</strong> works for <code><strong>AddExpenseCommand</strong></code>:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoAndRedo/RedoAddExpenseSequenceDiagram.png" alt="RedoAddExpenseSequenceDiagram">
</div>
<div class="title">Figure 22. Sequence diagram of how <code><strong>RedoCommand</strong></code> is applied at the back-end</div>
</div>
<div id="GeneralRedoSequence" class="paragraph">
<p>A general sequence diagram to illustrate how <strong>redo</strong> works for undoable commands:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoAndRedo/RedoGeneralSequenceDiagram.png" alt="RedoGeneralSequenceDiagram">
</div>
<div class="title">Figure 23. General sequence diagram of how <code><strong>RedoCommand</strong></code> is applied at the back-end for undoable commands</div>
</div>
<div class="paragraph">
<p>The following activity diagram shows what happens if the user executes a command:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoAndRedo/RunCommandActivityDiagrams.png" alt="RunCommandActivityDiagrams">
</div>
<div class="title">Figure 24. Activity diagram of the command execution.</div>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-6"><a class="link" href="#design-considerations-6">4.6.2. Design considerations</a></h4>
<div class="paragraph">
<p>This section shows some of the design considerations taken when implementing the undo and redo features.</p>
</div>
<div class="sect4">
<h5 id="aspect-algorithm-used-to-implements-undo-and-redo-features"><a class="link" href="#aspect-algorithm-used-to-implements-undo-and-redo-features">Aspect: Algorithm used to implements undo and redo features</a></h5>
<div class="ulist">
<ul>
<li>
<p>Alternative 1 (current choice): Provides different implementations for each command so that the command knows how to undo and redo itself.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Requires less memory usage and provides better performance.</p>
</li>
<li>
<p>Cons: Needs to ensure that the implementation for each command is correct.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Alternative 2: Saves the current version of the <code><strong>THRIFT</strong></code> data. When <strong>undo</strong>/<strong>redo</strong> is executed, <code><strong>THRIFT</strong></code> will use the previous version of the data.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Reuses the same implementation for the new commands.</p>
</li>
<li>
<p>Cons: Requires a large amount of memory usage.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Alternative 1 was chosen because it requires less memory usage and has better performance compared to alternative 2. For example, undo
an <code><strong>AddExpenseCommand</strong></code>, alternative 1 requires a time complexity of O(1), whereas alternative 2 requires a time complexity of O(N).</p>
</div>
</div>
<div class="sect4">
<h5 id="aspect-data-structure-used-to-keep-track-of-undoable-command"><a class="link" href="#aspect-data-structure-used-to-keep-track-of-undoable-command">Aspect: Data structure used to keep track of undoable command</a></h5>
<div class="ulist">
<ul>
<li>
<p>Alternative 1 (current choice): Use two stacks. One stack stores the command to undo while the other stack stores the command to redo.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Makes the implementation easy to code.</p>
</li>
<li>
<p>Cons:  Needs to manage the two stacks carefully. For example, you need to pop the command from one stack and push it into another stack.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Alternative 2: Use a list and a pointer to indicate the next command to undo.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Makes the implementation easy to code.</p>
</li>
<li>
<p>Cons: Needs to manage the pointer carefully. For example, you need to ensure that the pointer stays within the size of a list.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Alternative 1 was chosen because it provides a higher level of abstraction.
Alternative 2 is using a list to implement a stack.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="filtering-transactions"><a class="link" href="#filtering-transactions">4.7. Filtering transactions</a></h3>
<div class="paragraph">
<p>The <strong>List</strong> command allows the user to bring up a list of <code><strong>Transactions</strong></code>, and filter it by month.
This feature is implemented by using a <code><strong>Predicate&lt;Transaction&gt;</strong></code> to filter the <code><strong>Transactions</strong></code> by month.</p>
</div>
<div class="sect3">
<h4 id="implementation-8"><a class="link" href="#implementation-8">4.7.1. Implementation</a></h4>
<div class="paragraph">
<p><code><strong>ListCommand</strong></code> is instantiated by <code>ListCommandParser#parse(String args)</code>,
which attempts to parse the various parameters supplied in <code>args</code> and return a <code><strong>ListCommand</strong></code> object.</p>
</div>
<div class="paragraph">
<p>The sequence diagram below shows how the execution of the <strong>list</strong> is like:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/list/ListSequenceDiagram.png" alt="ListSequenceDiagram">
</div>
<div class="title">Figure 25. Sequence diagram of how <strong>list</strong> command is applied at the back-end.</div>
</div>
<div class="paragraph">
<p>The following conditions will cause a <code><strong>ParseException</strong></code> to be thrown by the parser:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Incorrect syntax (i.e. having a prefix that does not refer to month)</p>
</li>
<li>
<p>Illegal values in parameters (i.e. special characters and symbols entered for a integer-only field)</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the user input is incorrect due to the reasons above, the usage or parameter syntax will be shown.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The scenario below shows an example of how the feature works:</p>
</div>
<div class="paragraph">
<p>Step 1. The user executes <strong>list m/10/2019</strong> to filter the list to bring up transactions of October 2019.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/list/Step2.png" alt="Step2" width="650">
</div>
</div>
<div class="paragraph">
<p>Step 2. The <code><strong>ListCommandParser</strong></code> will parse the arguments using the method <code>ListCommandParser#parse(String args)</code>.</p>
</div>
<div class="paragraph">
<p>Step 3. Since user input is correct and the arguments have been parsed, a new <code><strong>ListCommand</strong></code> object will be created by the
<code><strong>ListCommandParser</strong></code>.</p>
</div>
<div class="paragraph">
<p>Step 4. This <code><strong>ListCommand</strong></code> object will use a <code><strong>Predicate</strong></code> based on the specified month which is used to filter through each <code><strong>Transaction</strong></code>.</p>
</div>
<div class="paragraph">
<p>Step 5. The final list of filtered transactions will be brought up. The income, expense, and balance values in the UI will
be updated accordingly as well, to reflect the correct values for the filtered month.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/list/OctFilter.png" alt="OctFilter" width="650">
</div>
</div>
<div class="paragraph">
<p>The activity diagram below will give an overview of what is happening when the command is executed.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/list/ListActivityDiagram.png" alt="ListActivityDiagram">
</div>
<div class="title">Figure 26. Activity diagram of the command execution.</div>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-7"><a class="link" href="#design-considerations-7">4.7.2. Design considerations</a></h4>
<div class="sect4">
<h5 id="aspect-using-code-strong-predicate-strong-code-to-improve-extendability-of-the-feature-in-the-future"><a class="link" href="#aspect-using-code-strong-predicate-strong-code-to-improve-extendability-of-the-feature-in-the-future">Aspect: Using <code><strong>Predicate</strong></code> to improve extendability of the feature in the future</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Create a new <code><strong>Predicate</strong></code> based on the arguments each time.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: The filter feature could be added to and improved in the future to further accommodate new arguments other than month and tag,
and still be able to filter by a combination of the different arguments.</p>
</li>
<li>
<p>Cons: Not as easy to implement.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Use a fixed <code><strong>Predicate</strong></code> written beforehand to filter the list for each argument.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Straightforward to implement, a specific <code><strong>Predicate</strong></code> can be used for the specific argument.</p>
</li>
<li>
<p>Cons: Not easily extendable as in the future if we want to filter by new arguments, we will have to write a new <code><strong>Predicate</strong></code> for each argument.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Eventually we may decide to use a combination of both alternatives as it is possible that different arguments are easier to
implement using different methods.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="proposed-extension"><a class="link" href="#proposed-extension">4.7.3. Proposed extension</a></h4>
<div class="paragraph">
<p>In the near future, we plan to enhance the filtering feature. We want to improve the list command to take in tags as a
possible argument similar to month, and thus allow for the possible filtering by tags as well. The design considerations mentioned
earlier was to facilitate this proposed extension, since we would require the use of a <code><strong>Predicate</strong></code> which will be
created using the tag in the argument as well. By doing so, we reduce the difficulty of enhancing the filtering feature in
the future. This would benefit the simplicity of the command and further enhance the user experience, for them to be able
to filter by a combination of both months and tags.</p>
</div>
<div class="paragraph">
<p>The image below shows how a possible future implementation of this feature could look like:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/list/TagFilter.png" alt="TagFilter" width="550">
</div>
<div class="title">Figure 27. Expected result of filtering by both Nov 2019 and Transport.</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="proposed-data-encryption"><a class="link" href="#proposed-data-encryption">4.8. [Proposed] Data encryption</a></h3>
<div class="paragraph">
<p>With the emphasis on information security these days, we are concerned about protecting the privacy of our users. We have
discussed on how we can protect our users' data on <code><strong>THRIFT</strong></code> by making use of modern encryption schemes to protect against
prying eyes. The encryption will take place at the back-end with minimal disruptions to the user. The user does not need additional
knowledge about how the encryption work as <code><strong>THRIFT</strong></code> will handle all encryption and decryption operations for them.</p>
</div>
<div class="sect3">
<h4 id="proposed-implementation"><a class="link" href="#proposed-implementation">4.8.1. Proposed implementation</a></h4>
<div class="paragraph">
<p>In order to ensure a seamless experience, we propose a new <code><strong>Keystore</strong></code> module, along with a <code><strong>KeystoreManager</strong></code> that will
be interacting closely with the <code><strong>Logic</strong></code> and <code><strong>Storage</strong></code> modules. The class diagram below gives an overview of how the
new <code><strong>Keystore</strong></code> would fit in:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/encryption/EncryptionClassDiagram.png" alt="EncryptionClassDiagram" width="250">
</div>
</div>
<div class="paragraph">
<p>We recommend that the <code><strong>KeystoreManager</strong></code> implements the following methods:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>KeystoreManager#setEncryptionScheme(Cipher)</code> - Sets the encryption scheme to be that of <code>Cipher</code>.</p>
</li>
<li>
<p><code>KeystoreManager#encryptThrift(Thrift)</code> - Encrypts the current <code><strong>Thrift</strong></code> object with the encryption scheme set in <code><strong>KeystoreManager</strong></code>.</p>
</li>
<li>
<p><code>KeystoreManager#decryptThrift()</code> - Decrypts the encrypted text file, restore the <code><strong>Thrift</strong></code> object and replace the current <code><strong>Thrift</strong></code>.</p>
</li>
</ul>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The decryption will take place upon <code>MainApp#init()</code> while encryption will happen every time <code>LogicManager#execute()</code> is called.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-8"><a class="link" href="#design-considerations-8">4.8.2. Design considerations</a></h4>
<div class="paragraph">
<p>There is one factor about the way encryption should be implemented that we considered.</p>
</div>
<div class="sect4">
<h5 id="aspect-allowing-the-user-to-specify-the-encryption-strength"><a class="link" href="#aspect-allowing-the-user-to-specify-the-encryption-strength">Aspect: Allowing the user to specify the encryption strength</a></h5>
<div class="ulist">
<ul>
<li>
<p>Alternative 1: The user can specify the algorithm, as well as the key size of the encryption scheme.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Power users have the freedom to fine-tune the encryption strength to suit their needs.</p>
</li>
<li>
<p>Cons: Regular users might not know which encryption scheme to use.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Alternative 2: Preset the encryption scheme to use AES-256, which provides one of the best protections in the market
due to its key size.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Encrypted data will be secured even if stolen, preventing unauthorised access.</p>
</li>
<li>
<p>Cons: Users with slower processor chips on their computer might experience a noticeable performance drop when using
<code><strong>THRIFT</strong></code>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>We believe that both alternatives have reasonable pros and cons and choosing either option would be beneficial to <code><strong>THRIFT</strong></code>.
The added data security will assure the user that their data is safe and allows them to use <code><strong>THRIFT</strong></code> with a peace of mind.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="proposed-artificial-intelligence-ai"><a class="link" href="#proposed-artificial-intelligence-ai">4.9. [Proposed] Artificial Intelligence (AI)</a></h3>
<div class="paragraph">
<p>Artificial intelligence (AI) is the simulation of human intelligence processes by machines such as computer systems. AI tries to mimic the learning process of humans in order to perform self-correction.
We want <code><strong>THRIFT</strong></code> to possess the ability to make calculated decisions and provide the user with appropriate recommendations under the appropriate situations.
This way, we can enhance the user experience and make our application more effective.</p>
</div>
<div class="paragraph">
<p>The following sections will describe how we plan to implement this feature and the possible design considerations.</p>
</div>
<div class="sect3">
<h4 id="proposed-implementation-2"><a class="link" href="#proposed-implementation-2">4.9.1. Proposed implementation</a></h4>
<div class="paragraph">
<p>Adhering to the Open-Closed principle, we will not modify the existing architecture but extend it.
The following class diagram illustrates how we propose to do it, by adding 2 new classes to the existing architecture:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ai/AiClassDiagram.png" alt="AiClassDiagram">
</div>
</div>
<div class="paragraph">
<p>The new classes will have the following roles:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><strong>AI</strong></code>: Analyses data from the <code><strong>Data</strong></code> and perform machine learning on it.
If the need arises, feedback to the <code><strong>Data</strong></code> class to morph the data inside.
Modifies the actions taken by the <code><strong>LogicManager</strong></code> class based on the machine learning model.</p>
</li>
<li>
<p><code><strong>Data</strong></code>:  Collects data from <code><strong>Thrift</strong></code> and formats to it to a form understandable by the <code><strong>AI</strong></code> class.
It can be modified by the <code><strong>AI</strong></code> class in the process of machine learning.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="design-consideration"><a class="link" href="#design-consideration">4.9.2. Design consideration</a></h4>
<div class="sect4">
<h5 id="aspect-portability-of-the-learning-model"><a class="link" href="#aspect-portability-of-the-learning-model">Aspect: Portability of the learning model</a></h5>
<div class="paragraph">
<p>The portability of the learning model will determine the complexity of the implementation and the following designs can be considered:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1</strong>: Include the machine learning algorithms and models with the application</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Allows the application to be portable and self-contained</p>
</li>
<li>
<p>Cons: Results in a larger application size</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2</strong>: Develop the machine learning algorithms and models as a separate application,
which can be offloaded to a remote location</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Allows the main application to be smaller in size</p>
</li>
<li>
<p>Cons: The application is no longer portable and self-contained,
and have to depend on the availability of the remote application</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>We believe that both alternatives can be considered as choosing either option brings a different benefit to <code><strong>THRIFT</strong></code>.
A hybrid implementation of both alternatives can also be considered.
Regardless of what is eventually chosen, the user experience will be improved by artificial intelligence.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="proposed-external-report-generation"><a class="link" href="#proposed-external-report-generation">4.10. [Proposed] External report generation</a></h3>
<div class="paragraph">
<p>We plan to increase the practicality of THRIFT by enabling the user to generate an external report document that they
can keep for recording purposes. This proposed report will display the user&#8217;s income, expenditure and budget
information on a monthly basis. The user can also choose whether to include all transactions in the month or only
transactions in selected tag categories in the report.</p>
</div>
<div class="sect3">
<h4 id="proposed-implementation-3"><a class="link" href="#proposed-implementation-3">4.10.1. Proposed implementation</a></h4>
<div class="paragraph">
<p>To execute report generation, we propose a new <code><strong>ReportCommand</strong></code> that is a subclass of <code><strong>NonScrollingCommand</strong></code> and
works with <code><strong>ModelManager</strong></code> like other commands as described in the <a href="#Design-Logic">Logic</a> section. The following
diagram shows the dependency between <code><strong>ReportCommand</strong></code> and <code><strong>ModelManager</strong></code>:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/report/ReportClassDiagram.png" alt="ReportClassDiagram">
</div>
</div>
<div class="paragraph">
<p><code>ReportCommand#execute()</code> will retrieve information needed from the existing transactions list through
<code><strong>ModelManager</strong></code> retrieval operations, process them and generate an external report document using Java APIs.</p>
</div>
<div class="paragraph">
<p>The current formats we have in mind for report documents and the relevant Java APIs to handle them are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Comma-Separated Values (CSV) with <a href="http://opencsv.sourceforge.net/apidocs/com/opencsv/CSVWriter.html">OpenCSV</a> API.</p>
</li>
<li>
<p>Portable Document Format (PDF) with <a href="https://api.itextpdf.com/iText7/java/7.1.8/">PDFWriter</a> API.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="logging"><a class="link" href="#logging">4.11. Logging</a></h3>
<div class="paragraph">
<p>We are using <code><strong>java.util.logging</strong></code> package for logging. The <code><strong>LogsCenter</strong></code> class is used to manage the logging levels and logging destinations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The logging level can be controlled using the <code>logLevel</code> setting in the configuration file (See <a href="#Implementation-Configuration">Section 4.12, &#8220;Configuration&#8221;</a>).</p>
</li>
<li>
<p>The <code><strong>Logger</strong></code> for a class can be obtained using <code>LogsCenter.getLogger(Class)</code> which will log messages according to the specified logging level.</p>
</li>
<li>
<p>The log messages are output through: <code>Console</code> and to a <code>.log</code> file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Logging Levels</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>SEVERE</code> : Detected a critical problem which may possibly cause the termination of the application</p>
</li>
<li>
<p><code>WARNING</code> : Exercise caution if continuing</p>
</li>
<li>
<p><code>INFO</code> : Display information showing the noteworthy actions by the application</p>
</li>
<li>
<p><code>FINE</code> : Display details that are usually not noteworthy but may be useful in debugging e.g. print the actual list
instead of just its size</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Implementation-Configuration"><a class="link" href="#Implementation-Configuration">4.12. Configuration</a></h3>
<div class="paragraph">
<p>Certain properties of the application can be controlled (e.g user prefs file location, logging level) through the configuration file (default: <em>config.json</em>).</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="documentation"><a class="link" href="#documentation">5. Documentation</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>We use AsciiDoc for writing documentation.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
We chose AsciiDoc over Markdown because AsciiDoc, although a bit more complex than Markdown, provides more flexibility in formatting.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="editing-documentation"><a class="link" href="#editing-documentation">5.1. Editing documentation</a></h3>
<div class="paragraph">
<p>See <a href="UsingGradle.html#rendering-asciidoc-files">UsingGradle.adoc</a> to learn how to render .adoc files locally to preview the end result of your edits.
Alternatively, you can download the AsciiDoc plugin for IntelliJ, which allows you to preview the changes you have made to your .adoc files in real-time.</p>
</div>
</div>
<div class="sect2">
<h3 id="editing-diagrams"><a class="link" href="#editing-diagrams">5.2. Editing diagrams</a></h3>
<div class="paragraph">
<p>See <a href="UsingPlantUml.html">UsingPlantUml.adoc</a> to find out how to create and update the UML diagrams in the developer guide.</p>
</div>
</div>
<div class="sect2">
<h3 id="publishing-documentation"><a class="link" href="#publishing-documentation">5.3. Publishing documentation</a></h3>
<div class="paragraph">
<p>See <a href="UsingTravis.html#deploying-github-pages">UsingTravis.adoc</a> to learn how to deploy GitHub Pages using Travis.</p>
</div>
</div>
<div class="sect2">
<h3 id="converting-documentation-to-pdf-format"><a class="link" href="#converting-documentation-to-pdf-format">5.4. Converting documentation to PDF format</a></h3>
<div class="paragraph">
<p>We use <a href="https://www.google.com/chrome/browser/desktop/">Google Chrome</a> for converting documentation to PDF format, as Chrome&#8217;s PDF engine preserves hyperlinks used in webpages.</p>
</div>
<div class="paragraph">
<p>Here are the steps to convert the project documentation files to PDF format.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Follow the instructions in <a href="UsingGradle.html#rendering-asciidoc-files">UsingGradle.adoc</a> to convert the AsciiDoc files in the <em>docs/</em> directory to HTML format.</p>
</li>
<li>
<p>Go to your generated HTML files in the <em>build/docs</em> folder, right click on them and select <strong>Open with</strong> &#8594; <strong>Google Chrome</strong>.</p>
</li>
<li>
<p>Within Chrome, click on the <strong>Print</strong> option in Chrome&#8217;s menu.</p>
</li>
<li>
<p>Set the destination to <strong>Save as PDF</strong>, then click <strong>Save</strong> to save a copy of the file in PDF format. For best results, use the settings indicated in the screenshot below.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/chrome_save_as_pdf.png" alt="chrome save as pdf" width="300">
</div>
<div class="title">Figure 28. Saving documentation as PDF files in Chrome</div>
</div>
</div>
<div class="sect2">
<h3 id="Docs-SiteWideDocSettings"><a class="link" href="#Docs-SiteWideDocSettings">5.5. Site-wide documentation settings</a></h3>
<div class="paragraph">
<p>The <a href="https://github.com/AY1920S1-CS2103T-W12-2/main/tree/master/build.gradle"><code><em>build.gradle</em></code></a> file specifies some project-specific <a href="https://asciidoctor.org/docs/user-manual/#attributes">AsciiDoc attributes</a> which affects how all documentation files within this project are rendered.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Attributes left unset in the <code><em>build.gradle</em></code> file will use their default value, if any.
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 1. List of site-wide attributes</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 50%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Default value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>site-name</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The name of the website.
If set, the name will be displayed near the top of the page.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>not set</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>site-githuburl</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>URL to the site&#8217;s repository on <a href="https://github.com">GitHub</a>.
Setting this will add a "View on GitHub" link in the navigation bar.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>not set</em></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="Docs-PerFileDocSettings"><a class="link" href="#Docs-PerFileDocSettings">5.6. Per-file documentation settings</a></h3>
<div class="paragraph">
<p>Each .adoc file may also specify some file-specific <a href="https://asciidoctor.org/docs/user-manual/#attributes">AsciiDoc attributes</a> which affects how the file is rendered.</p>
</div>
<div class="paragraph">
<p>Asciidoctor&#8217;s <a href="https://asciidoctor.org/docs/user-manual/#builtin-attributes">built-in attributes</a> may be specified and used as well.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Attributes left unset in .adoc files will use their default value, if any.
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 2. List of per-file attributes, excluding Asciidoctor&#8217;s built-in attributes</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 50%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Default value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>site-section</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Site section that the document belongs to.
This will cause the associated item in the navigation bar to be highlighted.
One of: <code><em>UserGuide</em></code>, <code><em>DeveloperGuide</em></code>, <code><em>AboutUs</em></code>, <code><em>ContactUs</em></code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>not set</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>no-site-header</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Set this attribute to remove the site navigation bar.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>not set</em></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="site-template"><a class="link" href="#site-template">5.7. Site template</a></h3>
<div class="paragraph">
<p>The files in <a href="https://github.com/AY1920S1-CS2103T-W12-2/main/tree/master/docs/stylesheets"><em>docs/stylesheets</em></a> are the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS">CSS stylesheets</a> of the site.
You can modify them to change some properties of the site&#8217;s design.</p>
</div>
<div class="paragraph">
<p>The files in <a href="https://github.com/AY1920S1-CS2103T-W12-2/main/tree/master/docs/templates"><em>docs/templates</em></a> controls the rendering of .adoc files into HTML5.
These template files are written in a mixture of <a href="https://www.ruby-lang.org">Ruby</a> and <a href="http://slim-lang.com">Slim</a>.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Modifying the template files in <a href="https://github.com/AY1920S1-CS2103T-W12-2/main/tree/master/docs/templates"><em>docs/templates</em></a> requires some knowledge and experience with Ruby and Asciidoctor&#8217;s API.
You should only modify them if you need greater control over the site&#8217;s layout than what stylesheets can provide.
The THRIFT team does not provide support for modified template files.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Testing"><a class="link" href="#Testing">6. Testing</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes the type of tests used in THRIFT and how it can be executed.</p>
</div>
<div class="sect2">
<h3 id="running-tests"><a class="link" href="#running-tests">6.1. Running tests</a></h3>
<div class="paragraph">
<p>There are two ways to run tests.</p>
</div>
<div class="paragraph">
<p><strong>Method 1: Using IntelliJ JUnit test runner</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>To run all tests, right-click on the <em>src/test/java</em> folder and choose <strong>Run 'All Tests'</strong></p>
</li>
<li>
<p>To run a subset of tests, you can right-click on a test package, test class, or a test and choose <strong>Run 'ABC'</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Method 2: Using Gradle</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Open a console and run the command <strong>gradlew clean test</strong> (Mac/Linux: <strong>./gradlew clean test</strong>)</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
See <a href="UsingGradle.html">UsingGradle.adoc</a> for more info on how to run tests using Gradle.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="types-of-tests"><a class="link" href="#types-of-tests">6.2. Types of tests</a></h3>
<div class="paragraph">
<p>We have three types of tests:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><em>Unit tests</em> targeting the lowest level methods/classes.<br>
e.g. <code><strong>thrift.commons.util.StringUtilTest</strong></code></p>
</li>
<li>
<p><em>Integration tests</em> that are checking the integration of multiple code units (those code units are assumed to be working).<br>
e.g. <code><strong>thrift.storage.StorageManagerTest</strong></code></p>
</li>
<li>
<p>Hybrids of unit and integration tests. These test are checking multiple code units as well as how the are connected together.<br>
e.g. <code><strong>thrift.logic.LogicManagerTest</strong></code></p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="troubleshooting-testing"><a class="link" href="#troubleshooting-testing">6.3. Troubleshooting testing</a></h3>
<div class="paragraph">
<p><strong>Problem: Keyboard and mouse movements are not simulated on macOS Mojave, resulting in GUI Tests failure.</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Reason: From macOS Mojave onwards, applications without <code>Accessibility</code> permission cannot simulate certain keyboard and mouse movements.</p>
</li>
<li>
<p>Solution: Open <strong>System Preferences</strong>, click <strong>Security and Privacy</strong> &#8594; <strong>Privacy</strong> &#8594; <strong>Accessibility</strong>, and check the box beside <strong>Intellij IDEA</strong>.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/testfx-idea-accessibility-permissions.png" alt="testfx idea accessibility permissions" width="600">
</div>
<div class="title">Figure 29. <code>Accessibility</code> permission is granted to <strong>IntelliJ IDEA</strong></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="dev-ops"><a class="link" href="#dev-ops">7. Dev ops</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes the practices and tools used during development.</p>
</div>
<div class="sect2">
<h3 id="build-automation"><a class="link" href="#build-automation">7.1. Build automation</a></h3>
<div class="paragraph">
<p>See <a href="UsingGradle.html">UsingGradle.adoc</a> to learn how to use Gradle for build automation.</p>
</div>
</div>
<div class="sect2">
<h3 id="continuous-integration"><a class="link" href="#continuous-integration">7.2. Continuous Integration</a></h3>
<div class="paragraph">
<p>We use <a href="https://travis-ci.org/">Travis CI</a> and <a href="https://www.appveyor.com/">AppVeyor</a> to perform <em>Continuous Integration</em> on our projects. See <a href="UsingTravis.html">UsingTravis.adoc</a> and <a href="UsingAppVeyor.html">UsingAppVeyor.adoc</a> for more details.</p>
</div>
</div>
<div class="sect2">
<h3 id="coverage-reporting"><a class="link" href="#coverage-reporting">7.3. Coverage reporting</a></h3>
<div class="paragraph">
<p>We use <a href="https://coveralls.io/">Coveralls</a> to track the code coverage of our projects. See <a href="UsingCoveralls.html">UsingCoveralls.adoc</a> for more details.</p>
</div>
</div>
<div class="sect2">
<h3 id="documentation-previews"><a class="link" href="#documentation-previews">7.4. Documentation previews</a></h3>
<div class="paragraph">
<p>When a pull request has changes to AsciiDoc files, you can use <a href="https://www.netlify.com/">Netlify</a> to see a preview of how the HTML version of those AsciiDoc files will look like when the pull request is merged. See <a href="UsingNetlify.html">UsingNetlify.adoc</a> for more details.</p>
</div>
</div>
<div class="sect2">
<h3 id="making-a-release"><a class="link" href="#making-a-release">7.5. Making a release</a></h3>
<div class="paragraph">
<p>Here are the steps to create a new release.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Update the version number in <a href="https://github.com/AY1920S1-CS2103T-W12-2/main/tree/master/src/main/java/thrift/MainApp.java"><code><em>MainApp.java</em></code></a>.</p>
</li>
<li>
<p>Generate a JAR file <a href="UsingGradle.html#creating-the-jar-file">using Gradle</a>.</p>
</li>
<li>
<p>Tag the repo with the version number. e.g. v0.1</p>
</li>
<li>
<p><a href="https://help.github.com/articles/creating-releases/">Create a new release using GitHub</a> and upload the JAR file you created.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="managing-dependencies"><a class="link" href="#managing-dependencies">7.6. Managing dependencies</a></h3>
<div class="paragraph">
<p>A project often depends on third-party libraries. For example, THRIFT depends on the <a href="https://github.com/FasterXML/jackson">Jackson library</a> for JSON parsing. Managing these <em>dependencies</em> can be automated using Gradle. Gradle can download the dependencies automatically, which is better than these alternatives:</p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Include those libraries in the repo (this bloats the repo size)</p>
</li>
<li>
<p>Require developers to download those libraries manually (this creates extra work for developers)</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="product-scope"><a class="link" href="#product-scope">Appendix A: Product scope</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Target user profile</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>targets money-conscious NUS students</p>
</li>
<li>
<p>requires management of a significant number of transactions</p>
</li>
<li>
<p>prefers apps on desktop over other platforms</p>
</li>
<li>
<p>types quickly and prefers it over mouse input</p>
</li>
<li>
<p>experiences no discomfort with CLI navigation</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Value proposition</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>provides effective financial management compared to typical mouse/GUI driven applications</p>
</li>
<li>
<p>makes planning for future spending easier</p>
</li>
<li>
<p>congregates all information regarding incomes and expenses in a single location</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="user-stories"><a class="link" href="#user-stories">Appendix B: User stories</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Priorities: High (must have) - <code>* * *</code>, Medium (nice to have) - <code>* *</code>, Low (unlikely to have) - <code>*</code></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 5%;">
<col style="width: 25%;">
<col style="width: 30%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Priority</th>
<th class="tableblock halign-left valign-top">As a &#8230;&#8203;</th>
<th class="tableblock halign-left valign-top">I want to &#8230;&#8203;</th>
<th class="tableblock halign-left valign-top">So that I can&#8230;&#8203;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NUS student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">track my spending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">manage my finances better</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">movie addict who watches every movie that comes out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">keep track of my movie ticket and snack expenses</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have enough money to watch the movies I want.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">computing student who has many software subscriptions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">use the recurring expenses tracker</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">manage my subscription payments</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student staying in the Halls with many expenses</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">see all my expenses in a central spot</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">keep track of all the different expenses</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NUS international student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">keep track of my travelling and spending expenses</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have enough money when I travel around Singapore</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">someone who loves travelling</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">use the tracker to help me plan for my travelling budgets</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fully enjoy my time on vacation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SOC student always on my laptop</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write down my expenses</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">really quickly due to the command-line nature</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student who uses both PayLah and cash interchangeably</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">tag my expenses</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">keep track of both expenses</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NUS student who loans money to a lot of friends</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">use the debt tracker</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">track and collect my interest</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student accepting financial aid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">use the expense tracker report</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">keep within my budget</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student who borrows money frequently from other people</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">use the debt tracker</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">remember who I owe money to</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NUS international student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">be able to keep track of recurring utility expenses such as phone bills</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">plan a suitable budget</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">phone junkie</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">set aside enough money</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">purchase the latest phones and accessories</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student who is conscious about money</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">be able to view my monthly expenditure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">know how much I had spent this month</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">female buying clothes frequently</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">track exactly how much I spend on clothes each month using the tracker and filter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">don’t exceed my clothes budget</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student who likes to buy games online</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">use the expense tracker funds left</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">see if I am able to pay my school fees</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">mobile game addict who makes a lot of in-app purchases</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">use the expenses tracker report</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">manage my finances and to sustain my essential expenses</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student that frequently takes on part-time jobs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">use finance planner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">track my income</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">frugal NUS student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">use the expense tracker report</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">optimise my finances</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">social animal frequently going to clubs and bars</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">plan out my expenses</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">moderate my spending on social activities and keep up my balanced lifestyle</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student that stays in Hall</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">add my expenses to the expense tracker</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">track funds contributed to hall activities</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student who wants to save more money</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">be able to compare my past expenditure with my current expenditure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">know if I had spent more money or saved money this month</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">hall resident who eats supper daily</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">keep track of what I have been eating and how much I usually spend on supper</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">don&#8217;t overspend on each supper</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">child of wealthy parent</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">easily delete previous expenses</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">properly count my expenditure should my parents decide to help cover some parts of it</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">careless student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">make some changes to the information</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ensure that the application displays the correct information</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student who loves to keep track of finance</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">view all the possible commands</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fully utilise the functionality offered by the application</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student that wants to allocate less money to material goods and more to food</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">analyse the spending by category</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">adjust accordingly</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">on-campus resident who likes to cook my own food</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">track my grocery bills</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">moderate the cost and frequency of grocery shopping</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">motor enthusiast</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">use the planner to set aside funds</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">keep purchasing vehicle parts, modifications and accessories and keep pursuing my hobby</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student who has a bad habit of spending a lot on material goods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">see which goods are taking up most of my monthly budget</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">better manage my finances</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hypebeast that spends a lot of money on branded goods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">look at my recent spending percentage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">manage my finances and keep my budget</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student who is going for exchange</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">make sure that I bring enough foreign currency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">avoid using my credit card</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student who is currently in a relationship</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the tracker to help me set aside enough money for both my partner and I</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">get married soon</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student who always lends money to people</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">be able to send receipt to my loanee</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">claim back my money</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">dota addict who always buy arcanas and battle pass levels</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">track my spending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">afford to buy more battle pass levels</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">active youth in need of sustenance within a limited budget</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">get recommendations for food prices</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">be healthy physically and financially</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">shopaholic</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">use the finance planner to find discounts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">spend less on my shopping</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NUS student with stingy and over-controlling parents</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">send my expense report for the month to my parents to view easily</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">avoid them asking me what I have been spending on all the time</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NUS student whose transaction details may be inaccurate in retrospect due to cashbacks or receipt discrepancies</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">modify transactions in my list</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">transactions have the most updated and accurate information</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NUS student with completely or almost identical repeated transactions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">make copies of such transactions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">more convenient to add them instead of having to type them out fully each time</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="use-cases"><a class="link" href="#use-cases">Appendix C: Use cases</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>(For all use cases below, the <strong>System</strong> is <code><strong>THRIFT</strong></code> and the <strong>Actor</strong> is the user, unless specified otherwise)</p>
</div>
<h3 id="use-case-setting-monthly-budget" class="discrete">Use case: Setting monthly budget</h3>
<div class="paragraph">
<p><strong><a href="#MSS">MSS</a></strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to set the budget of a certain month to a specified amount.</p>
</li>
<li>
<p><code><strong>THRIFT</strong></code> processes the request and sets the specified amount as the budget for that certain month.</p>
<div class="paragraph">
<p><em>Use case ends</em></p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>1a. The parameters specified by the user are not valid.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>1a1. <code><strong>THRIFT</strong></code> displays an invalid parameter error to the user and the monthly budget is not updated.</p>
<div class="paragraph">
<p><em>Use case ends</em></p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<h3 id="use-case-add-an-expense-income-transaction" class="discrete">Use case: Add an expense/income transaction</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to add a new expense or income transaction into their records.</p>
</li>
<li>
<p><code><strong>THRIFT</strong></code> processes the request and adds the expense/income transaction into the transactions list.</p>
<div class="paragraph">
<p><em>Use case ends</em></p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>1a. The parameters specified by the user are not valid.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>1a1. <code><strong>THRIFT</strong></code> displays an invalid parameter error to the user and the transactions list is not updated.</p>
<div class="paragraph">
<p><em>Use case ends</em></p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<h3 id="use-case-delete-a-transaction" class="discrete">Use case: Delete a transaction</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to delete an existing transaction from their records.</p>
</li>
<li>
<p><code><strong>THRIFT</strong></code> processes the request and removes the transaction from the transactions list.</p>
<div class="paragraph">
<p><em>Use case ends</em></p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>1a. The transaction record specified by the user is not valid.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>1a1. <code><strong>THRIFT</strong></code> displays an invalid parameter error to the user and the transactions list is not updated.</p>
<div class="paragraph">
<p><em>Use case ends</em></p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<h3 id="use-case-update-a-transaction-s-details" class="discrete">Use case: Update a transaction&#8217;s details</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to update a transaction&#8217;s name, value, remark or tags.</p>
</li>
<li>
<p><code><strong>THRIFT</strong></code> processes the request, updates the specified details in the transactions list and informs user of what has been changed.</p>
<div class="paragraph">
<p><em>Use case ends</em></p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>1a. Some parameters specified by the user are not valid.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>1a1. <code><strong>THRIFT</strong></code> displays an invalid command format error to the user and does not update details for invalid parameters.</p>
<div class="paragraph">
<p><em>Use case ends</em></p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<h3 id="use-case-clone-a-transaction" class="discrete">Use case: Clone a transaction</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to clone a transaction, specifying the occurrence of clones: how many clones are to be created and their frequency over a future period.</p>
</li>
<li>
<p><code><strong>THRIFT</strong></code> processes the request and adds the specified number of identical transactions to the transactions list.</p>
<div class="paragraph">
<p><em>Use case ends</em></p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>1a. User does not specify the occurrence of clones.</p>
<div class="ulist none">
<ul class="none">
<li>
<p><em>Use case resumes from Step 2</em></p>
</li>
</ul>
</div>
</li>
<li>
<p>1b. The index parameter specified by the user is not valid.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>1b1. <code><strong>THRIFT</strong></code> displays an invalid command format error to the user and does not update the transactions list.</p>
<div class="paragraph">
<p><em>Use case ends</em></p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>1b. The occurrence specified by the user is not valid.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>1b1. <code><strong>THRIFT</strong></code> displays an invalid command format error to the user and does not update the transactions list.</p>
<div class="paragraph">
<p><em>Use case ends</em></p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<h3 id="use-case-show-help-window" class="discrete">Use case: Show help window</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to view to syntax of a specific command.</p>
</li>
<li>
<p><code><strong>THRIFT</strong></code> displays the syntax of the requested command.</p>
<div class="paragraph">
<p><em>Use case ends</em></p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>1a. The command specified by the user is not valid.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>1a1. <code><strong>THRIFT</strong></code> displays an invalid command error to user.</p>
<div class="paragraph">
<p><em>Use case ends</em></p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<h3 id="use-case-list-monthly-transactions" class="discrete">Use case: List monthly transactions</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to view list of transactions for a specific month.</p>
</li>
<li>
<p><code><strong>THRIFT</strong></code> displays transactions of that month.</p>
<div class="paragraph">
<p><em>Use case ends</em></p>
</div>
</li>
</ol>
</div>
<h3 id="use-case-tag-a-transaction" class="discrete">Use case: Tag a transaction</h3>
<div class="paragraph">
<p><strong>MSS</strong>
= <strong>Extensions</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to tag a specific transaction.</p>
</li>
<li>
<p><code><strong>THRIFT</strong></code> processes the request and adds the tag to the specific transaction.</p>
<div class="paragraph">
<p><em>Use case ends</em></p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>1a. The command specified by the user is not valid.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>1a1. <code><strong>THRIFT</strong></code> displays an invalid command error to user.</p>
<div class="paragraph">
<p><em>Use case ends</em></p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<h3 id="use-case-untag-a-transaction" class="discrete">Use case: Untag a transaction</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to untag a specific transaction.</p>
</li>
<li>
<p><code><strong>THRIFT</strong></code> processes the request and removes the tag from the specific transaction.</p>
<div class="paragraph">
<p><em>Use case ends</em></p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>1a. The parameters specified by the user are not valid.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>1a1. <code><strong>THRIFT</strong></code> displays an invalid parameter error to the user and the transaction is not updated.</p>
<div class="paragraph">
<p><em>Use case ends</em></p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<h3 id="use-case-convert-a-transaction" class="discrete">Use case: Convert a transaction</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to convert the currency of a specific transaction to a new currency.</p>
</li>
<li>
<p><code><strong>THRIFT</strong></code> processes the request and updates specific transaction with the new value in the new currency.</p>
<div class="paragraph">
<p><em>Use case ends</em></p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>1a. The parameters specified by the user are not valid.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>1a1. <code><strong>THRIFT</strong></code> displays an invalid parameter error to the user and the transaction is not updated.</p>
<div class="paragraph">
<p><em>Use case ends</em></p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<h3 id="use-case-convert-a-value" class="discrete">Use case: Convert a value</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to convert a value in SGD to a specific currency.</p>
</li>
<li>
<p><code><strong>THRIFT</strong></code> processes the request and displays the new value in the new currency.</p>
<div class="paragraph">
<p><em>Use case ends</em></p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>1a. The parameters specified by the user are not valid.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>1a1. <code><strong>THRIFT</strong></code> displays an invalid parameter error to the user.</p>
<div class="paragraph">
<p><em>Use case ends</em></p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<h3 id="use-case-find-a-keyword-in-code-strong-transaction-s-remark-strong-code-and-code-strong-description-strong-code-field" class="discrete">Use case: Find a keyword in <code><strong>Transaction&#8217;s  Remark</strong></code> and <code><strong>Description</strong></code> field</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to search for a keyword in THRIFT.</p>
</li>
<li>
<p><code><strong>THRIFT</strong></code> processes its currently saved entire transaction list to look for matches.</p>
</li>
<li>
<p><code><strong>THRIFT</strong></code> found matches and display the results at the <code><strong>TransactionListPanel</strong></code> screen.</p>
<div class="paragraph">
<p><em>Use case ends</em></p>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="non-functional-requirements"><a class="link" href="#non-functional-requirements">Appendix D: Non functional requirements</a></h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code><strong>THRIFT</strong></code> should be able to run on any <a href="#mainstream-os">mainstream OS</a> as long as it has <code>Java 11</code> installed.</p>
</li>
<li>
<p><code><strong>THRIFT</strong></code> should be able to hold up to 250 transactions without a noticeable drop in performance for typical usage.</p>
</li>
<li>
<p>A user with above average typing speed for <a href="#regular-english-text">regular English text</a> (i.e. not code, not system admin commands) should be able to accomplish most of the tasks faster using commands than using the mouse.</p>
</li>
<li>
<p><code><strong>THRIFT</strong></code> should be able to run with or without internet connection.</p>
</li>
<li>
<p><code><strong>THRIFT</strong></code> should work for a single user only.</p>
</li>
<li>
<p><code><strong>THRIFT</strong></code> should not require user to install.</p>
</li>
<li>
<p>Features implemented should be testable using manual testing and automated testing.</p>
</li>
<li>
<p><code><strong>THRIFT</strong></code> should support screen resolution of 1920 x 1080 or higher.</p>
</li>
<li>
<p><code><strong>THRIFT</strong></code> should support the English <a href="#locale">locale</a> only. Any locale from this <a href="https://docs.microsoft.com/en-us/cpp/c-runtime-library/language-strings?view=vs-2019">link</a> that starts with "en" will be supported.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="glossary"><a class="link" href="#glossary">Appendix E: Glossary</a></h2>
<div class="sectionbody">
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<a id="thrift"></a> THRIFT
</td>
<td class="hdlist2">
<p>Stands for "Terminal-input Human Readable Interactive Finance Tracker". It is the application this developer guide is for.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="api"></a> API
</td>
<td class="hdlist2">
<p>Stands for "Application Programming Interface" which simplifies programming by abstracting the underlying implementation and only exposing objects or actions the developer needs.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="locale"></a> Locale
</td>
<td class="hdlist2">
<p>Stands for a setting on the user&#8217;s computer that defines the user&#8217;s language and region.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="puml"></a> PlantUML
</td>
<td class="hdlist2">
<p>Stands for a software tool that we use to render the diagrams used in this document.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="nfr"></a> NFR
</td>
<td class="hdlist2">
<p>Stands for "Non-functional Requirement"</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="mainstream-os"></a> Mainstream OS
</td>
<td class="hdlist2">
<p>Stands for commonly used Operating Systems (OS) such as Windows, Linux, Unix, OS-X</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="regular-english-text"></a> Regular English Text
</td>
<td class="hdlist2">
<p>Stands for text with ordinary english grammar structures and vocabulary generally used by the public.
It excludes syntax related to programming and <a href="#system-administration">system administration</a>.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="system-administration"></a> System Administration
</td>
<td class="hdlist2">
<p>Stands for the field of work in which someone manages one or more systems, be they software, hardware, servers or workstations
with the goal of ensuring the systems are running efficiently and effectively.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a id="MSS"></a> MSS
</td>
<td class="hdlist2">
<p>Stands for Main Success Scenario that describes the interaction for a given use case, which assumes that nothing goes wrong.</p>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="instructions-for-manual-testing"><a class="link" href="#instructions-for-manual-testing">Appendix F: Instructions for manual testing</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Given below are instructions to test the app manually.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
These instructions only provide a starting point for testers to work on; testers are expected to do more <em>exploratory</em> testing.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="launching-and-shutting-down"><a class="link" href="#launching-and-shutting-down">F.1. Launching and shutting down</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Initial launch</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Download the jar file and copy into an empty folder</p>
</li>
<li>
<p>Double-click the jar file<br>
Expected: Shows the GUI with empty transaction.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="setting-a-monthly-budget"><a class="link" href="#setting-a-monthly-budget">F.2. Setting a monthly budget</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Setting a monthly budget to be a certain amount.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Test case: <strong>budget v/1000 d/10/2019</strong><br>
Expected: The monthly budget for <strong>10/2019</strong> is now set to $<strong>1000</strong>. Details of the new monthly budget is shown in the Result Box.</p>
</li>
<li>
<p>Test case: <strong>budget</strong><br>
Expected: The monthly budget is not updated. Error details shown in the status message (missing <strong>d/MONTH</strong> and <strong>v/VALUE</strong> parameters).</p>
</li>
<li>
<p>Test case: <strong>budget v/10000000000 d/10/2019</strong><br>
Expected: The monthly budget is not updated. Error details shown in the status message (<strong>v/VALUE</strong> input exceeds constraint of 1 billion).</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="adding-a-transaction"><a class="link" href="#adding-a-transaction">F.3. Adding a transaction</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Adding a transaction, be it income or expense.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Test case: <strong>add_expense n/Bought a pair of Apple Earpods v/350</strong><br>
Expected: A new expense transaction is added into the list. Details of the expense transaction shown in the Result Box. The current system date is automatically added to this new transaction and saved into the transaction list.</p>
</li>
<li>
<p>Test case: <strong>add_income n/Awarded bursary prize v/500</strong><br>
Expected: A new income transaction is added into the list. Details of the income transaction shown in the Result Box. The current system date is automatically added to this new transaction and saved into the transaction list.</p>
</li>
<li>
<p>Test case: <strong>add_expense n/Lunch in school</strong><br>
Expected: No transaction is added. Error details shown in the Result Box (missing <strong>v/VALUE</strong> parameter).</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="deleting-a-transaction"><a class="link" href="#deleting-a-transaction">F.4. Deleting a transaction</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Deleting a transaction while all transactions are listed</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Prerequisites: Ensure that there is at least one transactions being listed in the transaction list using either the <strong>list</strong> command or <strong>find</strong> command.</p>
</li>
<li>
<p>Test case: <strong>delete i/1</strong><br>
Expected: First transaction is deleted from the list. Details of the deleted transaction shown in the Result Box.</p>
</li>
<li>
<p>Test case: <strong>delete i/0</strong><br>
Expected: No transaction is deleted. Error details shown in the Result Box (invalid <strong>i/INDEX</strong> parameter).</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="updating-a-transaction-s-details"><a class="link" href="#updating-a-transaction-s-details">F.5. Updating a transaction&#8217;s details</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Updating a transaction&#8217;s details and reflecting changes in the list.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Prerequisites: List all transactions using the <strong>list</strong> command. The first transaction is "[-] Laksa ($10.50) Date: 02/11/2019 Remarks:  Tags: [Lunch][Food]".</p>
</li>
<li>
<p>Test case: <strong>update i/1 n/Fried Rice</strong><br>
Expected: Details of the updated transaction and original transaction shown in status message. Displayed list scrolls to updated item which reflects the changes.</p>
</li>
<li>
<p>Test case: <strong>update i/1 v/20</strong><br>
Expected: Details of the updated transaction and original transaction shown in status message. Displayed list scrolls to updated item which reflects the changes.</p>
</li>
<li>
<p>Test case: <strong>update i/1 n/Fried Rice v/20 t/Lunch t/Food</strong><br>
Expected: Details of the updated transaction and original transaction shown in status message. Displayed list scrolls to updated item which reflects the changes.</p>
</li>
<li>
<p>Test case: <strong>update i/INVALID_INDEX</strong> where <strong>INVALID_INDEX</strong> is a number less than 1 or more than list size.<br>
Expected: No changes. Error details shown in status message.</p>
</li>
<li>
<p>Test case: <strong>update i/1 z/Calamari</strong><br>
Expected: No changes. Error details shown in status message.</p>
</li>
<li>
<p>Test case: <strong>update firstTransaction</strong><br>
Expected: No changes. Error details shown in status message.</p>
</li>
<li>
<p>Test case: <strong>update</strong><br>
Expected: No changes. Error details shown in status message.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="cloning-a-transaction"><a class="link" href="#cloning-a-transaction">F.6. Cloning a transaction</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Creating a duplicate of a transaction.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Prerequisites: List all transactions using the <strong>list</strong> command. At least one transaction is in the list.</p>
</li>
<li>
<p>Test case: <strong>clone i/1</strong><br>
Expected: New transaction identical to first transaction in the list added to the bottom of the list. Details of the cloned transaction shown in the status message. Date string for new transaction is automatically saved into the transaction list.</p>
</li>
<li>
<p>Test case: <strong>clone i/INVALID_INDEX</strong> where <strong>INVALID_INDEX</strong> is a number less than 1 or more than list size.<br>
Expected: No transaction is cloned. Error details shown in status message.</p>
</li>
<li>
<p>Test case: <strong>clone firstTransaction</strong><br>
Expected: No changes. Error details shown in status message.</p>
</li>
<li>
<p>Test case: <strong>clone</strong><br>
Expected: No changes. Error details shown in status message.</p>
</li>
<li>
<p>Test case: <strong>clone i/1 o/daily:3</strong><br>
Expected: 3 new transactions identical to first transaction in the list added to the bottom of the list, with their dates set 1 day apart.</p>
</li>
<li>
<p>Test case: <strong>clone i/1 o/daily:-1</strong><br>
Expected: No changes. Error details shown in status message.</p>
</li>
<li>
<p>Test case: <strong>clone i/1 o/onceeveryday:-1</strong><br>
Expected: No changes. Error details shown in status message.</p>
</li>
<li>
<p>Test case: <strong>clone i/1 o/yearly:6</strong><br>
Expected: No changes. Error details shown in status message.</p>
</li>
<li>
<p>Test case: <strong>clone i/1 o/monthly:13</strong><br>
Expected: No changes. Error details shown in status message.</p>
</li>
<li>
<p>Test case: <strong>clone i/1 o/daily</strong><br>
Expected: No changes. Error details shown in status message.</p>
</li>
<li>
<p>Test case: <strong>clone i/1 o/monthly:5:6:fgzsfdsf:y564s:3234:</strong><br>
Expected: No changes. Error details shown in status message.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="listing-the-transactions"><a class="link" href="#listing-the-transactions">F.7. Listing the transactions</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Listing out transactions by month.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Prerequisites: At least one transaction in the list.</p>
</li>
<li>
<p>Test case: <strong>list</strong><br>
Expected: The entire list of transactions will be shown.</p>
</li>
<li>
<p>Test case: <strong>list m/01/2019</strong><br>
Expected: The list of transactions for January 2019 will be shown.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="tagging-a-transaction"><a class="link" href="#tagging-a-transaction">F.8. Tagging a transaction</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Tagging a transaction and reflecting changes in the list.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Prerequisites: List all transactions using the <strong>list</strong> command. The first transaction is "1. [-] Laksa ($10.50) [Lunch][Food]".</p>
</li>
<li>
<p>Test case: <strong>tag i/1 t/EXPENSIVE</strong><br>
Expected: Details of the tagged transaction and the original transaction are shown in the Result Box. Listing the transaction reflects changes.</p>
</li>
<li>
<p>Test case: <strong>tag i/INVALID_INDEX t/VALID_TAG</strong> where <strong>INVALID_INDEX</strong> is a number less than 1 or more than list size and <strong>VALID_TAG</strong> is a valid tag.<br>
Expected: No changes to any transaction entry. Details of the error is shown in the Result Box.</p>
</li>
<li>
<p>Test case: <strong>tag i/VALID_INDEX t/ALREADY_INSIDE_TAG</strong> where <strong>VALID_INDEX</strong> is a valid transaction index and <strong>ALREADY_INSIDE_TAG</strong> is already inside the transaction specified.<br>
Expected: No changes to the transaction entry. Details of the error is shown in the Result Box.</p>
</li>
<li>
<p>Test case: <strong>tag firstTransaction</strong><br>
Expected: No changes to any transaction entry. Details of the error is shown in the Result Box.</p>
</li>
<li>
<p>Test case: <strong>tag</strong><br>
Expected: No changes to any transaction entry. Details of the error is shown in the Result Box.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="untagging-a-transaction"><a class="link" href="#untagging-a-transaction">F.9. Untagging a transaction</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Untagging a transaction and reflecting changes in the list.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Prerequisites: List all transactions using the <strong>list</strong> command. The first transaction is "1. [-] Laksa ($10.50) [Lunch][Food]".</p>
</li>
<li>
<p>Test case: <strong>untag i/1 t/FOOD</strong><br>
Expected: Details of the untagged transaction shown in Result Box. Listing the transaction reflects changes.</p>
</li>
<li>
<p>Test case: <strong>untag i/INVALID_INDEX t/VALID_TAG</strong> where <strong>INVALID_INDEX</strong> is a number less than 1 or more than list size and <strong>VALID_TAG</strong> is a valid tag.<br>
Expected: No changes to any transaction entry. Details of the error is shown in the Result Box.</p>
</li>
<li>
<p>Test case: <strong>untag i/VALID_INDEX t/NOT_INSIDE_TAG</strong> where <strong>VALID_INDEX</strong> is a valid transaction index and <strong>NOT_INSIDE_TAG</strong> is not inside the transaction specified.<br>
Expected: No changes to the transaction entry. Details of the error is shown in the Result Box.</p>
</li>
<li>
<p>Test case: <strong>untag secondTransaction</strong><br>
Expected: No changes to any transaction entry. Details of the error is shown in the Result Box.</p>
</li>
<li>
<p>Test case: <strong>untag</strong><br>
Expected: No changes to any transaction entry. Details of the error is shown in the Result Box.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="converting-a-value"><a class="link" href="#converting-a-value">F.10. Converting a value</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Converting a values&#8217;s currency and displaying it</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Test case: <strong>convert v/VALUE c/SGD c/USD</strong><br>
Expected: Original value and converted value displayed to the user in the Result Box.</p>
</li>
<li>
<p>Test case: <strong>convert v/VALUE c/SGD c/INVALID_CURRENCY</strong> where <strong>INVALID_CURRENCY</strong> is not a supported currency.<br>
Expected: Details of the error is shown in the Result Box.</p>
</li>
<li>
<p>Test case: <strong>convert v/VALUE c/INVALID_CURRENCY c/USD</strong> where <strong>INVALID_CURRENCY</strong> is not a supported currency.<br>
Expected: Details of the error is shown in the Result Box.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="finding-a-transaction"><a class="link" href="#finding-a-transaction">F.11. Finding a transaction</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Looking up transactions that matches any of the supplied keywords in its <code><strong>Remark</strong></code> and <code><strong>Description</strong></code> fields.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Test case: <strong>find Apple</strong><br>
Expected: Transactions with the word <strong>Apple</strong> in its <code><strong>Remark</strong></code> or <code><strong>Description</strong></code> field will be displayed in the transaction list to the user.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="undoing-the-previous-command"><a class="link" href="#undoing-the-previous-command">F.12. Undoing the previous command</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Undoing the previous command and reflecting changes in the list</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Prerequisites: List all transactions using the <strong>list</strong> command. There are at least two transactions in the list.</p>
</li>
<li>
<p>Test case:</p>
<div class="openblock">
<div class="content">
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p><strong>add_expense n/Chicken rice v/3</strong></p>
</li>
<li>
<p><strong>undo</strong></p>
</li>
</ol>
</div>
</div>
</div>
<div class="paragraph">
<p>Expected: Transaction regarding the expense spent on "Chicken Rice" is removed from the list.</p>
</div>
</li>
<li>
<p>Test case:</p>
<div class="openblock">
<div class="content">
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p><strong>add_income n/Salary v/2500</strong></p>
</li>
<li>
<p><strong>undo</strong></p>
</li>
</ol>
</div>
</div>
</div>
<div class="paragraph">
<p>Expected: Transaction regarding the income received from "Salary" is removed from the list.</p>
</div>
</li>
<li>
<p>Test case:</p>
<div class="openblock">
<div class="content">
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p><strong>delete i/1</strong></p>
</li>
<li>
<p><strong>undo</strong></p>
</li>
</ol>
</div>
</div>
</div>
<div class="paragraph">
<p>Expected: The first transaction that is removed from the list is restored to its original position.</p>
</div>
</li>
<li>
<p>Test case: (Assuming that the first transaction is "1. [-] Chicken rice ($3.00)")</p>
<div class="openblock">
<div class="content">
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p><strong>update i/1 n/Fried Rice</strong></p>
</li>
<li>
<p><strong>undo</strong></p>
</li>
</ol>
</div>
</div>
</div>
<div class="paragraph">
<p>Expected: The description of the first transaction is changed back to "Chicken Rice"".</p>
</div>
</li>
<li>
<p>Test case:</p>
<div class="openblock">
<div class="content">
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p><strong>clone i/1</strong></p>
</li>
<li>
<p><strong>undo</strong></p>
</li>
</ol>
</div>
</div>
</div>
<div class="paragraph">
<p>Expected: The newly cloned transaction is removed from the list.</p>
</div>
</li>
<li>
<p>Test case:</p>
<div class="openblock">
<div class="content">
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p><strong>clone i/1 o/daily:3</strong></p>
</li>
<li>
<p><strong>undo</strong></p>
</li>
</ol>
</div>
</div>
</div>
<div class="paragraph">
<p>Expected: Three new transactions, which are added using <strong>clone</strong>, are removed from the list.</p>
</div>
</li>
<li>
<p>Test case:</p>
<div class="openblock">
<div class="content">
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p><strong>tag i/1 t/LUNCH</strong></p>
</li>
<li>
<p><strong>undo</strong></p>
</li>
</ol>
</div>
</div>
</div>
<div class="paragraph">
<p>Expected: The "LUNCH" tag is removed from the first transaction in the list.</p>
</div>
</li>
<li>
<p>Test case:</p>
<div class="openblock">
<div class="content">
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p><strong>untag i/1 t/LUNCH</strong></p>
</li>
<li>
<p><strong>undo</strong></p>
</li>
</ol>
</div>
</div>
</div>
<div class="paragraph">
<p>Expected: The "LUNCH" tag is added back to the first transaction in the list.</p>
</div>
</li>
<li>
<p>Test case: (Assuming that the budget for "11/2019" is "$0.00")</p>
<div class="openblock">
<div class="content">
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p><strong>budget v/1000 d/11/2019</strong></p>
</li>
<li>
<p><strong>undo</strong></p>
</li>
</ol>
</div>
</div>
</div>
<div class="paragraph">
<p>Expected: The budget shown in the UI for "11/2019" is reset to "$0.00".</p>
</div>
</li>
<li>
<p>Test case:</p>
<div class="openblock">
<div class="content">
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p><strong>list</strong></p>
</li>
<li>
<p><strong>undo</strong></p>
</li>
</ol>
</div>
</div>
</div>
<div class="paragraph">
<p>Expected: A message is shown in the Result Box, indicating that there are no available commands for the user to undo.</p>
</div>
</li>
<li>
<p>Test case: <strong>undo 123</strong><br>
Expected: A message is shown in the Result Box, indicating that it is an invalid command.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="redoing-the-undone-command"><a class="link" href="#redoing-the-undone-command">F.13. Redoing the undone command</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Redoing the undone command and reflecting changes in the list</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Prerequisites: List all transactions using the <strong>list</strong> command. There are at least two transactions in the list.</p>
</li>
<li>
<p>Test case:</p>
<div class="openblock">
<div class="content">
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p><strong>add_expense n/Laksa v/3</strong></p>
</li>
<li>
<p><strong>undo</strong></p>
</li>
<li>
<p><strong>redo</strong></p>
</li>
</ol>
</div>
</div>
</div>
<div class="paragraph">
<p>Expected: Transaction regarding the expense spent on "Laksa" is added back to the list.</p>
</div>
</li>
<li>
<p>Test case:</p>
<div class="openblock">
<div class="content">
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p><strong>add_income n/bursary v/2500</strong></p>
</li>
<li>
<p><strong>undo</strong></p>
</li>
<li>
<p><strong>redo</strong></p>
</li>
</ol>
</div>
</div>
</div>
<div class="paragraph">
<p>Expected: Transaction regarding the income received from "bursary" is added back to the list.</p>
</div>
</li>
<li>
<p>Test case:</p>
<div class="openblock">
<div class="content">
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p><strong>delete i/1</strong></p>
</li>
<li>
<p><strong>undo</strong></p>
</li>
<li>
<p><strong>redo</strong></p>
</li>
</ol>
</div>
</div>
</div>
<div class="paragraph">
<p>Expected: The first transaction is removed from the list.</p>
</div>
</li>
<li>
<p>Test case: (Assume that the first transaction is "1. [-] Chicken rice ($3.00)")</p>
<div class="openblock">
<div class="content">
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p><strong>update i/1 n/Fried Rice</strong></p>
</li>
<li>
<p><strong>undo</strong></p>
</li>
<li>
<p><strong>redo</strong></p>
</li>
</ol>
</div>
</div>
</div>
<div class="paragraph">
<p>Expected: The description of the first transaction is displayed as "Fried Rice".</p>
</div>
</li>
<li>
<p>Test case:</p>
<div class="openblock">
<div class="content">
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p><strong>clone i/1</strong></p>
</li>
<li>
<p><strong>undo</strong></p>
</li>
<li>
<p><strong>redo</strong></p>
</li>
</ol>
</div>
</div>
</div>
<div class="paragraph">
<p>Expected: The newly cloned transaction is added back to the list.</p>
</div>
</li>
<li>
<p>Test case:</p>
<div class="openblock">
<div class="content">
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p><strong>clone i/1 o/daily:3</strong></p>
</li>
<li>
<p><strong>undo</strong></p>
</li>
<li>
<p><strong>redo</strong></p>
</li>
</ol>
</div>
</div>
</div>
<div class="paragraph">
<p>Expected: Three new cloned transactions are added back to the list.</p>
</div>
</li>
<li>
<p>Test case:</p>
<div class="openblock">
<div class="content">
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p><strong>tag i/1 t/FOOD</strong></p>
</li>
<li>
<p><strong>undo</strong></p>
</li>
<li>
<p><strong>redo</strong></p>
</li>
</ol>
</div>
</div>
</div>
<div class="paragraph">
<p>Expected: The "FOOD" tag is added back to the first transaction in the list.</p>
</div>
</li>
<li>
<p>Test case:</p>
<div class="openblock">
<div class="content">
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p><strong>untag i/1 t/FOOD</strong></p>
</li>
<li>
<p><strong>undo</strong></p>
</li>
<li>
<p><strong>redo</strong></p>
</li>
</ol>
</div>
</div>
</div>
<div class="paragraph">
<p>Expected: The "FOOD" tag is removed from the first transaction in the list.</p>
</div>
</li>
<li>
<p>Test case: (Assuming that the budget for "11/2019" is "$0.00")</p>
<div class="openblock">
<div class="content">
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p><strong>budget v/1000 d/11/2019</strong></p>
</li>
<li>
<p><strong>undo</strong></p>
</li>
<li>
<p><strong>redo</strong></p>
</li>
</ol>
</div>
</div>
</div>
<div class="paragraph">
<p>Expected: The budget shown in the UI for "11/2019" is set to "$1000.00".</p>
</div>
</li>
<li>
<p>Test case:</p>
<div class="openblock">
<div class="content">
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p><strong>tag i/1 t/LUNCH</strong></p>
</li>
<li>
<p><strong>undo</strong></p>
</li>
<li>
<p><strong>clone i/1</strong></p>
</li>
<li>
<p><strong>redo</strong></p>
</li>
</ol>
</div>
</div>
</div>
<div class="paragraph">
<p>Expected: New cloned transaction is added to the bottom of the list, but the "LUNCH" tag is not added back to the first transaction in the list.
There is a message shown in the Result Box indicating that there are no available commands for the user to redo.</p>
</div>
</li>
<li>
<p>Test case:</p>
<div class="openblock">
<div class="content">
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p><strong>list</strong></p>
</li>
<li>
<p><strong>redo</strong></p>
</li>
</ol>
</div>
</div>
</div>
<div class="paragraph">
<p>Expected: A message is shown in the Result Box, indicating that there are no available commands for the user to redo.</p>
</div>
</li>
<li>
<p>Test case: <strong>redo 123</strong><br>
Expected: A message is shown in the Result Box, indicating that it is an invalid command.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="showing-help-window"><a class="link" href="#showing-help-window">F.14. Showing help window</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Viewing the usage of the command</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Test case: <strong>help</strong><br>
Expected: A new pop-up help window containing the link to our User Guide is displayed.</p>
</li>
<li>
<p>Test case: <strong>help delete</strong><br>
Expected: Usage of the <strong>delete</strong> command is shown in the Result Box.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="saving-data"><a class="link" href="#saving-data">F.15. Saving data</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Dealing with missing/corrupted data files</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Delete the data files at <code>.\data\thrift.json</code> and <code>.\data\currency.json</code>
(depending on your Operating System, you might need to use the forward slash '/' for the path).</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
</div>
</div></div><div id="footer"><div class="container"><div id="footer-text">Last updated 2019-11-11 10:12:44 UTC</div></div></div></body></html>